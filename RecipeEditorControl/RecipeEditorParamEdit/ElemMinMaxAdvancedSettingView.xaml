<dialogs:CustomDialog  x:Class="RecipeEditorControl.RecipeEditorParamEdit.ElemMinMaxAdvancedSettingView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"            
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:RecipeEditorControl.RecipeEditorParamEdit"
             xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"                      
             xmlns:dialogs="clr-namespace:MahApps.Metro.Controls.Dialogs;assembly=MahApps.Metro"
             mc:Ignorable="d">
    <!--<dialogs:CustomDialog.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="EditorButton.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </dialogs:CustomDialog.Resources>-->
    <Grid>
        <Grid.Resources>
            <Style x:Key="ContentTextBox" TargetType="TextBox">
                <Setter Property="Margin" Value="4"/>
                <Setter Property="Foreground" Value="Black"/>
                <Setter Property="TextAlignment" Value="Center"/>
                <Setter Property="FontSize" Value="18" />
            </Style>
        </Grid.Resources>
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="2*"/>
            <RowDefinition Height="2*"/>
            <RowDefinition Height="1*"/>
        </Grid.RowDefinitions>
        <Label Grid.Row="0" Grid.ColumnSpan="2" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18" Foreground="Black" FontWeight="Bold">
            <Label.Content>
                <TextBlock Text="{Binding Elem.ElementName, StringFormat=Input {0} Min/Max Value.}" />
            </Label.Content>
        </Label>

        
        <!--<Label Background="Red" Grid.Row="0" Grid.Column="0" Content="{Binding Path=Elem.Name, Source={x:Reference EditorButton}}"  HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="18" Foreground="Black"/>-->
        <Label Grid.Row="1" Grid.Column="0" Content="Min :" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="18" Foreground="Black"/>
        <!--<TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Path=LowerLimit, Source={x:Reference EditorButton}}"  HorizontalContentAlignment="Center" VerticalAlignment="Center" FontSize="18" Style="{StaticResource ContentTextBox}" >-->
        <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Min}"  HorizontalContentAlignment="Center" VerticalAlignment="Center" FontSize="18" Style="{StaticResource ContentTextBox}" >
            <i:Interaction.Triggers>
                <i:EventTrigger EventName="PreviewMouseDown">
                    <i:InvokeCommandAction Command="{Binding MinTextBoxClickCommand}"
                                           CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type TextBox}}}"/>
                </i:EventTrigger>
            </i:Interaction.Triggers>
        </TextBox>
        <Label Grid.Row="2" Grid.Column="0" Content="Max :" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="18" Foreground="Black"/>
        <!--<TextBox Grid.Row="2" Grid.Column="1" Text="{Binding Path=UpperLimit, Source={x:Reference EditorButton}}" HorizontalContentAlignment="Center" VerticalAlignment="Center" FontSize="18" Style="{StaticResource ContentTextBox}">-->
        <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding Max}" HorizontalContentAlignment="Center" VerticalAlignment="Center" FontSize="18" Style="{StaticResource ContentTextBox}">
            <i:Interaction.Triggers>
                <i:EventTrigger EventName="PreviewMouseDown">
                    <i:InvokeCommandAction Command="{Binding MaxTextBoxClickCommand}"
                                           CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type TextBox}}}"/>
                </i:EventTrigger>
            </i:Interaction.Triggers>
        </TextBox>
        
        <StackPanel Grid.Row="3" Grid.RowSpan="2" Grid.Column="1"  Orientation="Horizontal" HorizontalAlignment="Right">
            <Button  Content="OK" Margin="4" FontSize="15" Command="{Binding ExitCommand}" Width="80" HorizontalAlignment="Right" />
        </StackPanel>
    </Grid>
</dialogs:CustomDialog>
