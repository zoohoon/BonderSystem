<UserControl x:Class="UcPnPButtonJog.PnPButton"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:pi="clr-namespace:ProberInterfaces.PnpSetup;assembly=ProberInterfaces"     
             xmlns:ValueConvert="clr-namespace:ValueConverters;assembly=ValueConverters"             
          	 xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:local="clr-namespace:UcPnPButtonJog"
             mc:Ignorable="d" 
             AutomationProperties.AutomationId="UCPnPButtonJog"
             d:DesignHeight="100" d:DesignWidth="600">
    <UserControl.Resources>
        <ValueConvert:EnableLockMultiConverter x:Key="LockConverter"/>
    </UserControl.Resources>
    <Grid Grid.IsSharedSizeScope="True">
        <Grid.ColumnDefinitions>
            <ColumnDefinition SharedSizeGroup="Buttons" />
            <ColumnDefinition SharedSizeGroup="Buttons" />
            <ColumnDefinition SharedSizeGroup="Buttons" />
            <ColumnDefinition SharedSizeGroup="Buttons" />
            <ColumnDefinition SharedSizeGroup="Buttons" />
        </Grid.ColumnDefinitions>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid>
            <local:JogBtn AutomationProperties.AutomationId="btnOne"
                          x:Name="BtnOne" Margin="7 0 7 0" 
                          Caption="{Binding OneButton.Caption}" 
                          CaptionSize ="{Binding OneButton.CaptionSize}"
                          IconCaption="{Binding OneButton.IconCaption}" 
                          IsEnabled="{Binding OneButton.IsEnabled}" 
                          IconSource="{Binding OneButton.IconSource}" 
                          Softness="{Binding OneButton.Softness}"
                          Visibility="{Binding OneButton.Visibility}"
                          Opacity="{Binding OneButton.Opacity}"  
                          Lockable="{Binding OneButton.Lockable}"
                          GUID="EB991C5E-610B-79A1-5BC9-87B05ABDBA2A"
                          IconWidth="80" IconHeight="80">
                <local:JogBtn.BitmapEffect>
                    <DropShadowBitmapEffect ShadowDepth="4" Color="LightGray" Softness="0"/>
                </local:JogBtn.BitmapEffect>
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="MouseDown" >
                        <i:InvokeCommandAction Command="{Binding OneButton.Command}" CommandParameter="{Binding OneButton.CommandParameter}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
            </local:JogBtn>
            <Grid>
                <Grid.Visibility>
                    <MultiBinding Converter="{StaticResource LockConverter}">
                        <Binding Path="IsEnabled" ElementName="BtnOne"/>
                        <Binding Path="OneButton.Lockable"/>
                        <Binding Path="OneButton.Command"/>
                    </MultiBinding>
                </Grid.Visibility>
                <Viewbox Width="20" Height="20" VerticalAlignment="Bottom" HorizontalAlignment="Center">
                    <Canvas Width="24" Height="24" Background="Transparent">
                        <Canvas.Effect>
                            <DropShadowEffect Color="Green" Direction="90" Opacity="1" BlurRadius="2" ShadowDepth ="3"></DropShadowEffect>
                        </Canvas.Effect>
                        <Path Data="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" 
                                             Fill="#FEBE38">
                        </Path>
                    </Canvas>
                </Viewbox>
            </Grid>
        </Grid>

        <Grid Grid.Column="1" >
            <local:JogBtn AutomationProperties.AutomationId="btnTwo"
                          x:Name="BtnTwo"  Margin="7 0 7 0" 
                          Caption="{Binding TwoButton.Caption}" 
                          CaptionSize ="{Binding TwoButton.CaptionSize}"
                          IconCaption="{Binding TwoButton.IconCaption}" 
                          IsEnabled="{Binding TwoButton.IsEnabled}" 
                          IconSource="{Binding TwoButton.IconSource}" 
                          Softness="{Binding TwoButton.Softness}"
                          Visibility="{Binding TwoButton.Visibility}"
                          Opacity="{Binding TwoButton.Opacity}"  
                          Lockable="{Binding TwoButton.Lockable}"
                          GUID="EB991C5E-610B-79A1-5BC9-87B05ABDBA2A"
                          IconWidth="80" IconHeight="80">
                <local:JogBtn.BitmapEffect>
                    <DropShadowBitmapEffect ShadowDepth="4" Color="LightGray" Softness="0"/>
                </local:JogBtn.BitmapEffect>
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="MouseDown" >
                        <i:InvokeCommandAction Command="{Binding TwoButton.Command}" CommandParameter="{Binding TwoButton.CommandParameter}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
            </local:JogBtn>
            <Grid>
                <Grid.Visibility>
                    <MultiBinding Converter="{StaticResource LockConverter}">
                        <Binding Path="IsEnabled" ElementName="BtnTwo"/>
                        <Binding Path="TwoButton.Lockable"/>
                        <Binding Path="TwoButton.Command"/>
                    </MultiBinding>
                </Grid.Visibility>
                <Viewbox Width="20" Height="20" VerticalAlignment="Bottom" HorizontalAlignment="Center">
                    <Canvas Width="24" Height="24" Background="Transparent">
                        <Canvas.Effect>
                            <DropShadowEffect Color="Green" Direction="90" Opacity="1" BlurRadius="2" ShadowDepth ="3"></DropShadowEffect>
                        </Canvas.Effect>
                        <Path Data="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" 
                                             Fill="#FEBE38">
                        </Path>
                    </Canvas>
                </Viewbox>
            </Grid>
        </Grid>

        <Grid Grid.Column="2">
            <local:JogBtn AutomationProperties.AutomationId="btnThree"
                          Margin="7 0 7 0"   x:Name="BtnThree" 
                          Caption="{Binding ThreeButton.Caption}" 
                          CaptionSize ="{Binding ThreeButton.CaptionSize}"
                          IconCaption="{Binding ThreeButton.IconCaption}" 
                          IsEnabled="{Binding ThreeButton.IsEnabled}" 
                          IconSource="{Binding ThreeButton.IconSource}" 
                          Softness="{Binding ThreeButton.Softness}"
                          Visibility="{Binding ThreeButton.Visibility}"
                          Opacity="{Binding ThreeButton.Opacity}"  
                          Lockable="{Binding ThreeButton.Lockable}"
                          GUID="EB991C5E-610B-79A1-5BC9-87B05ABDBA2A"
                          IconWidth="80" IconHeight="80">
                <local:JogBtn.BitmapEffect>
                    <DropShadowBitmapEffect ShadowDepth="4" Color="LightGray" Softness="0"/>
                </local:JogBtn.BitmapEffect>
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="MouseDown" >
                        <i:InvokeCommandAction Command="{Binding ThreeButton.Command}" CommandParameter="{Binding ThreeButton.CommandParameter}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
            </local:JogBtn>

            <Grid>
                <Grid.Visibility>
                    <MultiBinding Converter="{StaticResource LockConverter}">
                        <Binding Path="IsEnabled" ElementName="BtnThree"/>
                        <Binding Path="ThreeButton.Lockable"/>
                        <Binding Path="ThreeButton.Command"/>
                    </MultiBinding>
                </Grid.Visibility>
                <Viewbox x:Name="vb_lockimg" Width="20" Height="20" VerticalAlignment="Bottom" HorizontalAlignment="Center">
                    <Canvas Width="24" Height="24" Background="Transparent">
                        <Canvas.Effect>
                            <DropShadowEffect Color="Green" Direction="90" Opacity="1" BlurRadius="2" ShadowDepth ="3"></DropShadowEffect>
                        </Canvas.Effect>
                        <Path Data="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" 
                                             Fill="#FEBE38">
                        </Path>
                    </Canvas>
                </Viewbox>
            </Grid>
        </Grid>

        <Grid Grid.Column="3" >
            <local:JogBtn AutomationProperties.AutomationId="btnFour"
                          Margin="7 0 7 0" x:Name="BtnFour" 
                          Caption="{Binding FourButton.Caption}" 
                          CaptionSize ="{Binding FourButton.CaptionSize}"
                          IconCaption="{Binding FourButton.IconCaption}" 
                          IsEnabled="{Binding FourButton.IsEnabled}" 
                          IconSource="{Binding FourButton.IconSource}" 
                          Softness="{Binding FourButton.Softness}"
                          Visibility="{Binding FourButton.Visibility}"
                          Opacity="{Binding FourButton.Opacity}"
                          Lockable="{Binding FourButton.Lockable}"
                          GUID="EB991C5E-610B-79A1-5BC9-87B05ABDBA2A"
                          IconWidth="80" IconHeight="80">
                <local:JogBtn.BitmapEffect>
                    <DropShadowBitmapEffect ShadowDepth="4" Color="LightGray" Softness="0"/>
                </local:JogBtn.BitmapEffect>
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="MouseDown" >
                        <i:InvokeCommandAction Command="{Binding FourButton.Command}" CommandParameter="{Binding FourButton.CommandParameter}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
            </local:JogBtn>
            <Grid>
                <Grid.Visibility>
                    <MultiBinding Converter="{StaticResource LockConverter}">
                        <Binding Path="IsEnabled" ElementName="BtnFour"/>
                        <Binding Path="FourButton.Lockable"/>
                        <Binding Path="FourButton.Command"/>
                    </MultiBinding>
                </Grid.Visibility>
                <Viewbox  Width="20" Height="20" VerticalAlignment="Bottom" HorizontalAlignment="Center">
                    <Canvas Width="24" Height="24" Background="Transparent">
                        <Canvas.Effect>
                            <DropShadowEffect Color="Green" Direction="90" Opacity="1" BlurRadius="2" ShadowDepth ="3"></DropShadowEffect>
                        </Canvas.Effect>
                        <Path Data="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" 
                                             Fill="#FEBE38">
                        </Path>
                    </Canvas>
                </Viewbox>
            </Grid>
        </Grid>

        <Grid Grid.Column="4">
            <local:JogBtn AutomationProperties.AutomationId="btnFive"
                          Margin="7 0 7 0"  x:Name="BtnFive" 
                          Caption="{Binding FiveButton.Caption}" 
                          CaptionSize ="{Binding FiveButton.CaptionSize}"
                          IconCaption="{Binding FiveButton.IconCaption}" 
                          IsEnabled="{Binding FiveButton.IsEnabled}" 
                          IconSource="{Binding FiveButton.IconSource}" 
                          Softness="{Binding FiveButton.Softness}"
                          Visibility="{Binding FiveButton.Visibility}"
                          Opacity="{Binding FiveButton.Opacity}"
                          Lockable="{Binding FiveButton.Lockable}"
                          GUID="EB991C5E-610B-79A1-5BC9-87B05ABDBA2A"
                          IconWidth="80" IconHeight="80">
                <local:JogBtn.BitmapEffect>
                    <DropShadowBitmapEffect ShadowDepth="4" Color="LightGray" Softness="0"/>
                </local:JogBtn.BitmapEffect>
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="MouseDown" >
                        <i:InvokeCommandAction Command="{Binding FiveButton.Command}" CommandParameter="{Binding FiveButton.CommandParameter}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
            </local:JogBtn>
            <Grid>
                <Grid.Visibility>
                    <MultiBinding Converter="{StaticResource LockConverter}">
                        <Binding Path="IsEnabled" ElementName="BtnFive"/>
                        <Binding Path="FiveButton.Lockable"/>
                        <Binding Path="FiveButton.Command"/>
                    </MultiBinding>
                </Grid.Visibility>
                <Viewbox  Width="20" Height="20" VerticalAlignment="Bottom" HorizontalAlignment="Center">
                    <Canvas Width="24" Height="24" Background="Transparent">
                        <Canvas.Effect>
                            <DropShadowEffect Color="Green" Direction="90" Opacity="1" BlurRadius="2" ShadowDepth ="3"></DropShadowEffect>
                        </Canvas.Effect>
                        <Path Data="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" 
                                             Fill="#FEBE38">
                        </Path>
                    </Canvas>
                </Viewbox>
            </Grid>
        </Grid>

    </Grid>
</UserControl>
<!--<Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        -->
<!--<Canvas HorizontalAlignment="Left" VerticalAlignment="Top" Width="100" Height="70" 
                Opacity="{Binding OneButton.Opacity}" 
                IsEnabled="{Binding OneButton.IsEnabled}">
            <local:JogBtn x:Name="PadJogLeftUpBtn" MouseDown="JogBtn_MouseDown" MouseUp="JogBtn_MouseUp" >
                -->
<!--<i:Interaction.Triggers>
                    <i:EventTrigger EventName="MouseDown">
                        <i:InvokeCommandAction Command="{Binding PadJogLeftUp.Command}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>-->
<!--
            </local:JogBtn>
            <Button Command="{Binding TwoButton.Command}" MaxHeight="100" MaxWidth="70" />
            <TextBlock Text="{Binding OneButton.Caption}" FontSize="40" FontWeight="Bold" TextAlignment="Center" Foreground="White" Width="100" VerticalAlignment="Center" IsHitTestVisible="False" Canvas.Top="10"/>
            <Image Source="{Binding OneButton.IconSource}"  MaxWidth="100" MaxHeight="70" IsHitTestVisible="False">
                <Image.BitmapEffect>
                    <DropShadowBitmapEffect ShadowDepth="0" Color="Red" Softness="{Binding OneButton.Softness}"/>
                </Image.BitmapEffect>
            </Image>
        </Canvas>-->

<!--<DockPanel HorizontalAlignment="Stretch" Grid.Column="0">-->
<!--
        <Button x:Name="btnPnPStep_1" Grid.Column="0" Command="{Binding OneButton.Command}" Padding="0" DockPanel.Dock="Left" 
                MaxHeight="100" MaxWidth="70" IsEnabled="{Binding OneButton.IsEnabled}" Visibility="{Binding OneButton.Visibility}" 
                    VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch" >
                <TextBlock Text="{Binding OneButton.Caption}" TextWrapping="Wrap" TextAlignment="Center" FontWeight="Bold"/>
            </Button>
        -->
<!--</DockPanel>-->
<!--<DockPanel HorizontalAlignment="Stretch"  Grid.Column="1">-->
<!--
        <Button x:Name="btnPnPStep_2" Grid.Column="1"  Command="{Binding TwoButton.Command}" Padding="0"  DockPanel.Dock="Right"
                MaxHeight="100" MaxWidth="70" IsEnabled="{Binding TwoButton.IsEnabled}" Visibility="{Binding TwoButton.Visibility}"
                        VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch">
                    <TextBlock Text="{Binding TwoButton.Caption}" TextWrapping="Wrap" TextAlignment="Center" FontWeight="Bold"/>
                </Button>
            -->
<!--</DockPanel>-->
<!--<DockPanel HorizontalAlignment="Stretch"  Grid.Column="2">-->
<!--
        <Button x:Name="btnPnPStep_3" Grid.Column="2" Command="{Binding ThreeButton.Command}" Padding="0" DockPanel.Dock="Left" 
                MaxHeight="100" MaxWidth="70" IsEnabled="{Binding ThreeButton.IsEnabled}" Visibility="{Binding ThreeButton.Visibility}"
                        VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch">
                    <TextBlock Text="{Binding ThreeButton.Caption}" TextWrapping="Wrap" TextAlignment="Center" FontWeight="Bold"/>
                </Button>
            -->
<!--</DockPanel>-->
<!--<DockPanel HorizontalAlignment="Stretch"  Grid.Column="3">-->
<!--
        <Button x:Name="btnPnPStep_4" Grid.Column="3" Command="{Binding FourButton.Command}" Padding="0" DockPanel.Dock="Left" 
                MaxHeight="100" MaxWidth="70" IsEnabled="{Binding FourButton.IsEnabled}" Visibility="{Binding ThreeButton.Visibility}"
                        VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch">
                <TextBlock Text="{Binding FourButton.Caption}" TextWrapping="Wrap" TextAlignment="Center" FontWeight="Bold"/>
            </Button>
            -->
<!--</DockPanel>-->



<!--<ItemsControl ItemsSource="{Binding Buttons}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Horizontal"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>

            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <local:JogBtn Margin="7 0 7 0" 
                                  Caption="{Binding Caption}" 
                                  IsEnabled="{Binding IsEnabled}" 
                                  IconSource="{Binding IconSource}" 
                                  Softness="{Binding Softness}"
                                  IconWidth="40" IconHeight="40">
                            <local:JogBtn.BitmapEffect>
                                <DropShadowBitmapEffect ShadowDepth="4" Color="LightGray" Softness="0"/>
                            </local:JogBtn.BitmapEffect>
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="MouseDown" >
                                    <i:InvokeCommandAction Command="{Binding Command}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </local:JogBtn>
                    </Grid>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>-->
<!--
    </Grid>-->


<!--1차 UI-->
<!--<UserControl x:Class="UcPnPButtonJog.PnPButton"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:pi="clr-namespace:ProberInterfaces.PnpSetup;assembly=ProberInterfaces"     
             xmlns:ValueConvert="clr-namespace:ValueConverters;assembly=ValueConverters"             
             xmlns:local="clr-namespace:UcPnPButtonJog"
             mc:Ignorable="d" 
          d:DesignHeight="50" d:DesignWidth="272">
    <UserControl.Resources>
        <ResourceDictionary>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <ItemsControl ItemsSource="{Binding Buttons}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Horizontal"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>

            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Button x:Name="btn" Command="{Binding Command}"                           
                            VerticalAlignment="Center" HorizontalAlignment="Center"
                            Margin="4"  Foreground="White" Background="Transparent"
                            MinHeight="48" Width="58">
                        <Button.Content>
                            <TextBlock Padding="4" Text="{Binding Caption}" 
                                       TextWrapping="NoWrap" 
                                       TextTrimming="CharacterEllipsis"/>
                        </Button.Content>
                    </Button>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </Grid>
</UserControl>-->


<!--<Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <Button x:Name="btnPnPStep_1" Grid.Column="0"  Margin="2" Command="{Binding Button1Command}" Padding="0" >
            <TextBlock Text="btn1" TextWrapping="Wrap" TextAlignment="Center" FontWeight="Bold"/>
        </Button>

        <Button x:Name="btnPnPStep_2"  Grid.Column="1"  Margin="2" Command="{Binding Button2Command}" Padding="0">
            <TextBlock Text="btn2" TextWrapping="Wrap" TextAlignment="Center" FontWeight="Bold"/>
        </Button>

        <Button x:Name="btnPnPStep_3" Grid.Column="2"  Margin="2" Command="{Binding Button3Command}" Padding="0" >
            <TextBlock Text="btn3" TextWrapping="Wrap" TextAlignment="Center" FontWeight="Bold"/>
        </Button>

        <Button x:Name="btnPnPStep_4"  Grid.Column="3"  Margin="2" Command="{Binding Button4Command}" Padding="0" >
            <TextBlock Text="btn4" TextWrapping="Wrap" TextAlignment="Center" FontWeight="Bold"/>
        </Button>-->