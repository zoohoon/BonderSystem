<Window x:Class="SplashWindowControl.SplashWindowView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:sp="clr-namespace:SplasherService;assembly=SplasherService"
             xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
             mc:Ignorable="d" 
             Title="Semics" Height="600" Width="960" 
             WindowStartupLocation="CenterScreen" 
             WindowStyle="None"
             AllowsTransparency="True"
             Background="Transparent"
             ShowInTaskbar="False" 
             ResizeMode="NoResize">
    <Window.Resources>
        <Style TargetType="FrameworkElement" x:Key="VisibleAnimation">
            <Setter Property="Visibility" Value="Collapsed"/>
            <Setter Property="Opacity" Value="0"/>
            <Style.Triggers>
                <Trigger Property="Visibility" Value="Visible">
                    <Trigger.EnterActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0.0" To="1.0" Duration="0:0:0.2"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.EnterActions>
                </Trigger>
            </Style.Triggers>
        </Style>
        <LinearGradientBrush x:Key="OrangeBrush" EndPoint="0.5,1" StartPoint="0.5,0">
            <GradientStop Color="Orange" Offset="0"/>
            <GradientStop Color="Orange" Offset="1"/>
        </LinearGradientBrush>
    </Window.Resources>

    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="9*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Image Grid.Row="0" Source="pack://application:,,,/Resources/SEMICS.png" Width="200" Height="200" 
                   VerticalAlignment="Top" 
                   HorizontalAlignment="Center"
                   Margin="0,20,20,0">
            <Image.BitmapEffect>
                <BlurBitmapEffect Radius="3" />
            </Image.BitmapEffect>
        </Image>

        <Label Grid.Row="0" Margin="0,25,120,0" Content="version"  
               FontSize="16" FontWeight="Bold" Foreground="White" 
               HorizontalAlignment="Right" VerticalAlignment="Top">
        </Label>

        <TextBlock Grid.Row="0" Margin="0,30,0,0"
            FontSize="16" FontWeight="Bold" Foreground="White" HorizontalAlignment="Right" 
                   Text="{Binding Version}" 
                   TextAlignment="Center" TextWrapping="Wrap" VerticalAlignment="Top" Width="134">
            <TextBlock.Effect>
                <DropShadowEffect BlurRadius="6" Color="#FF797979" Direction="201" Opacity="0.68" ShadowDepth="3" />
            </TextBlock.Effect>
        </TextBlock>

        <!--<TextBlock Grid.Row="0" Margin="0,20,20,0"
            FontSize="16" FontWeight="Bold" Foreground="White" HorizontalAlignment="Right" 
                   Text="1,0,0,0" 
                   TextAlignment="Center" TextWrapping="Wrap" VerticalAlignment="Top" Width="134">
            <TextBlock.Effect>
                <DropShadowEffect BlurRadius="6" Color="#FF797979" Direction="201" Opacity="0.68" ShadowDepth="3" />
            </TextBlock.Effect>
        </TextBlock>-->

        <!--<TextBlock Grid.Row="0" Margin="0,20,20,0"
            FontSize="16" FontWeight="Bold" Foreground="White" HorizontalAlignment="Right" 
                   Text="version 0.0" 
                   TextAlignment="Center" TextWrapping="Wrap" VerticalAlignment="Top" Width="134">
            <TextBlock.Effect>
                <DropShadowEffect BlurRadius="6" Color="#FF797979" Direction="201" Opacity="0.68" ShadowDepth="3" />
            </TextBlock.Effect>
        </TextBlock>-->

        <Image Grid.RowSpan="2" Name="MapImg" Source="pack://application:,,,/Resources/map.png">
            <Image.Triggers>
                <EventTrigger RoutedEvent="Loaded">
                    <BeginStoryboard>
                        <Storyboard Completed="Storyboard_Completed">
                            <!--서서히 투명도가 짙어지는 애니메이션-->
                            <DoubleAnimation 
                                Storyboard.TargetProperty="Opacity" 
                                Storyboard.TargetName="MapImg"
                                From="0.0" To="1" Duration="0:0:5">
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Image.Triggers>
        </Image>

        <Controls:ProgressRing Name="progressBar" Foreground="{DynamicResource OrangeBrush}" IsActive="True"/>
        <TextBlock FontSize="16" FontWeight="Bold" Foreground="White" HorizontalAlignment="Right" 
                   Margin="0,310,359,0"                    
                   Text="{Binding IsDBUpdate}"              
                   TextAlignment="Center" TextWrapping="Wrap" VerticalAlignment="Top" Width="221">
            <TextBlock.Effect>
                <DropShadowEffect BlurRadius="6" Color="#FF797979" Direction="201" Opacity="0.68" ShadowDepth="3" />
            </TextBlock.Effect>
        </TextBlock>
    </Grid>
</Window>
