<UserControl x:Class="PMISetup.UC.TemplateMiniView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:vc="clr-namespace:ValueConverters;assembly=ValueConverters"
             xmlns:local="clr-namespace:PMISetup.UC"
             mc:Ignorable="d" 
             d:DesignHeight="250" d:DesignWidth="300">

    <UserControl.Resources>
        <vc:MathConverter x:Key="Mathconv"/>
        <vc:PMISetupModeToBrushConvert x:Key="PadModeConv" CorrectMode="PAD"/>
        <vc:PMISetupModeToBrushConvert x:Key="JudgingModeConv" CorrectMode="JUDGINGWINDOW"/>
        <vc:PMISetupModeToBrushConvert x:Key="MarkMinModeConv" CorrectMode="MARKMIN"/>
        <vc:PMISetupModeToBrushConvert x:Key="MarkMaxModeConv" CorrectMode="MARKMAX"/>
        <vc:PMISetupModeToBrushConvert x:Key="MarkModeConv" CorrectMode="MARK"/>

        <vc:PMIColorIntToEnumStringConvert x:Key="PMIColorIntToEnumStringConv"/>
    </UserControl.Resources>
    <Grid >

        <Border Grid.Column="0" Width="255" Height="250"
                                BorderBrush="Aquamarine" BorderThickness="2" Margin="2,2,2,2" Background="Black"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Top" Grid.ColumnSpan="2">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Border BorderBrush="White" BorderThickness="1" Margin="5,5,5,5">
                    <Label Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Center" Content="Template Information" FontSize="12"></Label>
                </Border>
                
                <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="-12">
                    <Label HorizontalAlignment="Left" Content="Index" FontSize="12"></Label>
                    <TextBox VerticalAlignment="Center" Foreground="White" IsReadOnly="True">
                        <TextBox.Text>
                            <MultiBinding StringFormat="{} {0} / {1}">
                                <Binding Path="SelectedPadTemplateIndex"
                                         Converter="{StaticResource Mathconv}"
                                         ConverterParameter="@VALUE+1"/>
                                <!--<Binding Path="PMIInfo.PadTemplateInfo.Count" Mode="OneWay"/>-->
                                <Binding Path="PadTemplateInfoCount" Mode="OneWay"/>
                            </MultiBinding>
                        </TextBox.Text>
                    </TextBox>
                </StackPanel>
                
                <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="-12">
                    <Label HorizontalAlignment="Left" Content="Name" FontSize="12"></Label>
                    <TextBox VerticalAlignment="Center" Text="{Binding SelectedPadTemplate.ShapeName.Value}" Foreground="White" IsReadOnly="True"></TextBox>
                </StackPanel>

                <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="-12">
                    <Label HorizontalAlignment="Left" Content="Pad" FontSize="12"></Label>
                    <TextBox VerticalAlignment="Center" Foreground="{Binding DrawingGroup.SetupMode, Converter={StaticResource PadModeConv}}" IsReadOnly="True">
                        <TextBox.Text>
                            <MultiBinding StringFormat="{} X = {0:F1} Y = {1:F1} Angle = {2:F1}">
                                <Binding Path="SelectedPadTemplate.SizeX.Value"/>
                                <Binding Path="SelectedPadTemplate.SizeY.Value"/>
                                <Binding Path="SelectedPadTemplate.Angle.Value"/>
                            </MultiBinding>
                        </TextBox.Text>
                    </TextBox>
                </StackPanel>

                <StackPanel Grid.Row="4" Orientation="Horizontal">

                    <Label HorizontalAlignment="Left" Content="Offset" FontSize="12" Margin="-2,0,0,0"></Label>
                    <TextBox VerticalAlignment="Center" Text ="{Binding SelectedPadTemplate.TemplateOffset.Value, StringFormat={}{0:F2}}" 
                             Margin="-8,0,0,0"
                             Foreground="{Binding DrawingGroup.SetupMode, Converter={StaticResource PadModeConv}}" IsReadOnly="True"/>

                    <Label HorizontalAlignment="Left" Content="Radius" FontSize="12" Margin="-8,0,0,0"></Label>
                    <TextBox VerticalAlignment="Center" Text ="{Binding SelectedPadTemplate.TemplateCornerRadius.Value, StringFormat={}{0:F2}}" 
                             Margin="-8,0,0,0"
                             Foreground="{Binding DrawingGroup.SetupMode, Converter={StaticResource PadModeConv}}" IsReadOnly="True"/>

                    <Label HorizontalAlignment="Left" Content="Color" FontSize="12" Margin="-8,0,0,0"></Label>
                    <TextBox VerticalAlignment="Center" Text ="{Binding SelectedPadTemplate.Color.Value,Converter={StaticResource PMIColorIntToEnumStringConv}}" 
                             Margin="-8,0,0,0"
                             Foreground="{Binding DrawingGroup.SetupMode, Converter={StaticResource PadModeConv}}" IsReadOnly="True"/>

                </StackPanel>

                <StackPanel Grid.Row="5" Orientation="Horizontal" Margin="-12">
                    <Label HorizontalAlignment="Left" Content="Judging Window :" FontSize="12"></Label>
                    <TextBox VerticalAlignment="Center" Foreground="{Binding DrawingGroup.SetupMode, Converter={StaticResource JudgingModeConv}}" IsReadOnly="True" Margin="-20">
                        <TextBox.Text>
                            <MultiBinding StringFormat="{} X = {0:F1} Y = {1:F1}">
                                <Binding Path="SelectedPadTemplate.JudgingWindowSizeX.Value"/>
                                <Binding Path="SelectedPadTemplate.JudgingWindowSizeY.Value"/>
                            </MultiBinding>
                        </TextBox.Text>
                    </TextBox>
                </StackPanel>

                <StackPanel Grid.Row="6" Orientation="Horizontal" Margin="-12,-1">
                    
                    <Label VerticalAlignment="Center" Content="Mark :" FontSize="12"></Label>

                    <StackPanel Orientation="Vertical">

                        <TextBox Foreground="{Binding DrawingGroup.SetupMode, Converter={StaticResource MarkMinModeConv}}" IsReadOnly="True" Margin="0">
                            <TextBox.Text>
                                <MultiBinding StringFormat="{} Min X = {0:F1} Min Y = {1:F1}">
                                    <Binding Path="SelectedPadTemplate.MarkWindowMinSizeX.Value"/>
                                    <Binding Path="SelectedPadTemplate.MarkWindowMinSizeY.Value"/>
                                </MultiBinding>
                            </TextBox.Text>
                        </TextBox>

                        <TextBox Foreground="{Binding DrawingGroup.SetupMode, Converter={StaticResource MarkMaxModeConv}}" IsReadOnly="True">
                            <TextBox.Text>
                                <MultiBinding StringFormat="{} Max X = {0:F1} Max Y = {1:F1}">
                                    <Binding Path="SelectedPadTemplate.MarkWindowMaxSizeX.Value"/>
                                    <Binding Path="SelectedPadTemplate.MarkWindowMaxSizeY.Value"/>
                                </MultiBinding>
                            </TextBox.Text>
                        </TextBox>

                        <TextBox Foreground="{Binding DrawingGroup.SetupMode, Converter={StaticResource MarkModeConv}}" IsReadOnly="True">
                            <TextBox.Text>
                                <MultiBinding StringFormat="{} Min % = {0:F1} Max % = {1:F1}">
                                    <Binding Path="SelectedPadTemplate.MarkWindowMinPercent.Value"/>
                                    <Binding Path="SelectedPadTemplate.MarkWindowMaxPercent.Value"/>
                                </MultiBinding>
                            </TextBox.Text>
                        </TextBox>

                    </StackPanel>
                    
                </StackPanel>

            </Grid>
        </Border>
    </Grid>
</UserControl>
