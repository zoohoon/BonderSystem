<Window x:Class="DemoRunDYWindow.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:aniScroll="clr-namespace:UcAnimationScrollViewer;assembly=UcAnimationScrollViewer"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:local="clr-namespace:DemoRunDYWindow"
        mc:Ignorable="d" x:Name="ucWindow"
        Title="DY Demo Run" Height="1000" Width="1620" ResizeMode="CanMinimize" >
    <Window.Resources>
        <Style BasedOn="{StaticResource MetroTabItem}" TargetType="{x:Type TabItem}">
            <Setter Property="mah:ControlsHelper.HeaderFontSize" Value="18"></Setter>
        </Style>
        <Style TargetType="{x:Type Label}">
            <Setter Property="Foreground" Value="Black"/>
        </Style>
        <Style TargetType="{x:Type Button}">
            <Setter Property="Margin" Value="2"/>
        </Style>

        <local:CellSelectedToBrushConverter x:Key="CellSelectedToBrushConv"/>
    </Window.Resources>
    <Grid>
        <TabControl>
            <!-- LOT TAB -->
            <TabItem Header="LOT">
                <Border BorderBrush="Black" BorderThickness="0.8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="1.5*"/>
                            <RowDefinition Height="2*"/>
                            <RowDefinition Height="1.5*"/>
                        </Grid.RowDefinitions>
                        <!-- LOT -->
                        <ListView ItemsSource="{Binding FoupLotInfos}" Background="#FF2C2C2F"
                      ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Hidden">
                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                    <Setter Property="VerticalContentAlignment" Value="Stretch" />
                                    <!--<Setter Property="IsEnabled" Value="{Binding IsEnableTransfer, Mode=TwoWay}"/>-->
                                </Style>
                            </ListView.ItemContainerStyle>
                            <ListView.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <UniformGrid Columns="4" />
                                </ItemsPanelTemplate>
                            </ListView.ItemsPanel>
                            <ListView.ItemTemplate>
                                <DataTemplate >
                                    <Border BorderBrush="DimGray" BorderThickness="1">
                                        <Grid>
                                            <Grid Grid.Column="0">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition/>
                                                    <RowDefinition/>
                                                    <RowDefinition/>
                                                    <RowDefinition/>
                                                    <RowDefinition/>
                                                    <RowDefinition/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                </Grid.ColumnDefinitions>
                                                <Grid Grid.Column="0" Grid.ColumnSpan="2">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition/>
                                                        <ColumnDefinition Width="1.8*"/>
                                                    </Grid.ColumnDefinitions>
                                                    <Label Content="{Binding FoupIndex}" ContentStringFormat="LOT {0} ID :" 
                                                        HorizontalContentAlignment="Center" VerticalContentAlignment="Center" FontWeight="DemiBold"/>
                                                    <TextBox Grid.Column="1" Margin="2" Text="{Binding LotID}"
                                                        BorderBrush="Black" BorderThickness="0.4"/>
                                                </Grid>
                                                <Grid Grid.Row="1" Grid.Column="1" Grid.RowSpan="5">
                                                    <StackPanel Orientation="Vertical" >
                                                        <StackPanel Orientation="Horizontal" Margin="5">

                                                            <Label Content="DY Foup State: "  Padding="0" FontSize="10" FontWeight="Bold"
                                              VerticalContentAlignment="Center" HorizontalContentAlignment="Left" Foreground="Red"/>
                                                            <Label Content="{Binding DynamicFoupState}"   Padding="0" FontSize="10" FontWeight="Bold"
                                              VerticalContentAlignment="Center"  HorizontalContentAlignment="Left" Foreground="Red"/>
                                                        </StackPanel>

                                                        <GroupBox   Header="DY Foup State" FontSize="10" Foreground="White" Width="200" HorizontalAlignment="Left" BorderBrush="White" BorderThickness="1" Margin="0,0,3,0">
                                                            <StackPanel Orientation="Vertical">
                                                                <StackPanel Orientation="Vertical" HorizontalAlignment="Left">
                                                                    <RadioButton  GroupName="DYFoupState" Padding="0" FontSize="10"  Margin="5" Command="{Binding LoadUnloadCommand}"  Foreground="Black" VerticalContentAlignment="Center">LOAD__AND__UNLOAD</RadioButton>
                                                                    <RadioButton  GroupName="DYFoupState" Padding="0" FontSize="10"  Margin="5" Command="{Binding OnlyUnloadCommand}"  Foreground="Black" VerticalContentAlignment="Center">UNLOAD</RadioButton>
                                                                </StackPanel>
                                                              
                                                            </StackPanel>
                                                        </GroupBox>
                                                        <!--<CheckBox Content="Forced LotEnd" Background="White" Foreground="White" FontSize="17" IsChecked="{Binding LoaderMaster.ForcedLotEndFlag,Mode=TwoWay}"></CheckBox>-->
                                                        <!--<Button Content="Collect All Wafer" Background="Blue"  Width="150" HorizontalAlignment="Left"  Foreground="White" Command="{Binding CollectWaferCommand}"  ></Button>-->
                                                    </StackPanel>
                                                </Grid>
                                                <Button Grid.Row="1" Content=" LOT START" FontWeight="DemiBold"
                                                        Command="{Binding Path=DataContext.LotStartCommand, ElementName=ucWindow}"
                                                        CommandParameter="{Binding FoupIndex}"/>
                                                <Button Grid.Row="2" Content=" LOT CANCEL" FontWeight="DemiBold"
                                                        Command="{Binding Path=DataContext.LotCancelCommand, ElementName=ucWindow}"
                                                        CommandParameter="{Binding FoupIndex}"/>
                                                <Button Grid.Row="3" Content=" DOCK" FontWeight="DemiBold"
                                                        Command="{Binding Path=DataContext.DockCommand, ElementName=ucWindow}"
                                                        CommandParameter="{Binding FoupIndex}"/>
                                                <Button Grid.Row="4" Content=" UNDOCK" FontWeight="DemiBold"
                                                        Command="{Binding Path=DataContext.UndockCommand, ElementName=ucWindow}"
                                                        CommandParameter="{Binding FoupIndex}"/>
                                            </Grid>
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </ListView.ItemTemplate>

                        </ListView>

                        <!-- CELL -->
                        <GroupBox Grid.Row="1" Header=" CELLS" FontSize="14" FontWeight="DemiBold" Padding="2">
                            <ListView x:Name="lv_cells" ItemsSource="{Binding CellInfos}" Background="#FF2C2C2F" SelectionMode="Multiple"
                                    ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Hidden" >
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding SelectedItemChangedCommand}"  
                                                   CommandParameter="{Binding ElementName=lv_cells, Path=SelectedItems}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                        <Setter Property="VerticalContentAlignment" Value="Stretch" />
                                        <!--<Setter Property="IsEnabled" Value="{Binding IsEnableTransfer, Mode=TwoWay}"/>-->
                                    </Style>
                                </ListView.ItemContainerStyle>
                                <ListView.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid Columns="6" Rows="2"/>
                                    </ItemsPanelTemplate>
                                </ListView.ItemsPanel>
                                <ListView.ItemTemplate>
                                    <DataTemplate >
                                        <Border BorderThickness="3" BorderBrush="{Binding IsSelected,
                                            Converter={StaticResource CellSelectedToBrushConv}}">
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="1.2*"/>
                                                    <RowDefinition/>
                                                    <RowDefinition/>
                                                    <RowDefinition/>
                                                    <RowDefinition/>
                                                    <RowDefinition/>
                                                </Grid.RowDefinitions>
                                                <Label Grid.Row="0" Content="{Binding CellIndex}" ContentStringFormat="CELL {0}"
                                                    VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
                                                    FontSize="18" FontWeight="DemiBold"/>
                                                <!-- Cur Device-->
                                                <Grid Grid.Row="1">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition/>
                                                        <ColumnDefinition/>
                                                    </Grid.ColumnDefinitions>
                                                    <Label Content="Cur Device :"/>
                                                    <Label Grid.Column="1" Content="{Binding CurDeviceName}"/>
                                                </Grid>
                                                <!-- Set Device-->
                                                <Grid Grid.Row="2">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition/>
                                                        <ColumnDefinition/>
                                                    </Grid.ColumnDefinitions>
                                                    <Label Content="Set Device :"/>
                                                    <Label Grid.Column="1" Content="{Binding SetDeviceName}"/>
                                                </Grid>
                                                <!-- Unload Foup-->
                                                <Grid Grid.Row="3">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition/>
                                                        <ColumnDefinition/>
                                                    </Grid.ColumnDefinitions>
                                                    <Label Content="Unload Foup"/>
                                                    <ComboBox Grid.Column="1" ItemsSource="{Binding Path=DataContext.FoupIndexs, ElementName=ucWindow}"
                                                              SelectedItem="{Binding WaferUnloadFoupNumber}" Style="{x:Null}"/>
                                                </Grid>
                                                <!-- Button-->
                                                <Grid Grid.Row="4">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition/>
                                                        <ColumnDefinition/>
                                                        <ColumnDefinition/>
                                                    </Grid.ColumnDefinitions>
                                                    <Button Content="END TEST" 
                                                        Command="{Binding Path=DataContext.CellEndTestCommand, ElementName=ucWindow}"
                                                        CommandParameter="{Binding CellIndex}"/>
                                                    <Button Grid.Column="1" Content="END ERROR"
                                                        Command="{Binding Path=DataContext.LotStartCommand, ElementName=ucWindow}"
                                                        CommandParameter="{Binding CellIndex}"/>
                                                    <Button Grid.Column="2" Content="P__RESUME"
                                                        Command="{Binding Path=DataContext.CellResumeCommand, ElementName=ucWindow}"
                                                        CommandParameter="{Binding CellIndex}"/>
                                                </Grid>
                                                <Grid Grid.Row="5">
                                                    <CheckBox IsChecked="{Binding IsForecedDone, Mode=TwoWay}"> Forced Done</CheckBox>
                                                </Grid>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </ListView.ItemTemplate>
                            </ListView>
                        </GroupBox>
                        <!-- DEVICE -->
                        <GroupBox Grid.Row="2" Header=" DEVICE" FontSize="14" FontWeight="DemiBold" Padding="2">
                            <Grid Grid.Row="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="0.5*"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <aniScroll:AnimationScrollViewer x:Name="svViewer"
                                     VerticalScrollBarVisibility="Visible">
                                    <ListView ItemsSource="{Binding DeviceNames}"
                         SelectedItem="{Binding SelectedDevice}" Background="#FF2C2C2F"  ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Hidden">
                                        <ListView.ItemContainerStyle>
                                            <Style TargetType="ListViewItem">
                                                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                                <Setter Property="VerticalContentAlignment" Value="Stretch" />
                                            </Style>
                                        </ListView.ItemContainerStyle>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="DimGray" BorderThickness="0.5">
                                                    <Grid Margin="8" Height="32" >
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="auto"/>
                                                                <ColumnDefinition Width="auto"/>
                                                            </Grid.ColumnDefinitions>
                                                            <Viewbox Grid.Column="0" Margin="0" Width="32">
                                                                <Path
                                            Stretch="Uniform"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center" 
                                                Data="M2,10.96C1.5,10.68 1.35,10.07 1.63,9.59L3.13,7C3.24,6.8 3.41,6.66 3.6,
                                                                    6.58L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.66,
                                                                    6.72 20.82,6.88 20.91,7.08L22.36,9.6C22.64,10.08 22.47,10.69 22,10.96L21,11.54V16.5C21,
                                                                    16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,
                                                                    21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V10.96C2.7,11.13 2.32,11.14 2,10.96M12,
                                                                    4.15V4.15L12,10.85V10.85L17.96,7.5L12,4.15M5,15.91L11,19.29V12.58L5,9.21V15.91M19,15.91V12.69L14,
                                                                    15.59C13.67,15.77 13.3,15.76 13,15.6V19.29L19,15.91M13.85,13.36L20.13,9.73L19.55,8.72L13.27,
                                                                    12.35L13.85,13.36Z"
                                                Fill="#be8158">
                                                                </Path>
                                                            </Viewbox>
                                                            <Label Grid.Column="1" 
                                           Margin="0"
                                           Content="{Binding }" Foreground="Black" FontSize="15">
                                                            </Label>
                                                        </Grid>
                                                    </Grid>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>
                                    </ListView>
                                </aniScroll:AnimationScrollViewer>
                                
                                <Grid Grid.Column="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                    </Grid.RowDefinitions>
                                    <StackPanel>
                                        <Button Content="USE FTP"/>
                                        <Button Content="NOT USE FTP"/>
                                    </StackPanel>

                                    <StackPanel Grid.Row="1">
                                        <Button Content="Set Device" Command="{Binding SetDeviceCommand}" />
                                        <Button Content="Clear Device" Command="{Binding ClearDeviceCommand}"/>
                                    </StackPanel>
                                </Grid>
                                <Grid Grid.Column="2" >
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="3*"/>
                                        <RowDefinition/>
                                    </Grid.RowDefinitions>

                                    <Border Grid.Row="0" BorderBrush="DimGray" BorderThickness="1" Margin="1" >
                                        <StackPanel>
                                            <Label Grid.ColumnSpan="2" Content ="PA" FontWeight="Bold" HorizontalAlignment="Center" Margin="4"/>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition/>
                                                    <RowDefinition/>
                                                    <RowDefinition/>
                                                    <RowDefinition/>
                                                </Grid.RowDefinitions>
                                                <CheckBox Grid.Row="0"  Grid.ColumnSpan="2" Content ="Enable WaitWaferIdConfirm" IsChecked="{Binding IsWaitWfConfirm}" FontWeight="Bold" HorizontalAlignment="Center" 
                                                          Command="{Binding DataContext.EnableWaferIdWaitCommand}" CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}" Margin="4"/>
                                                <CheckBox x:Name="wfcf_foup1" Grid.Row="1" Grid.Column="0" Content ="FOUP1" FontWeight="Bold" HorizontalAlignment="Center"  Margin="4"/>
                                                <CheckBox x:Name="wfcf_foup2" Grid.Row="1" Grid.Column="1" Content ="FOUP2" FontWeight="Bold" HorizontalAlignment="Center"  Margin="4"/>

                                                <Label Grid.Row="2" Content ="SLOT NUM : " FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center"  Margin="4"/>
                                                <ComboBox Grid.Row="2" Grid.Column="1" Text ="1"  ItemsSource="{Binding Path=DataContext.SlotNums, ElementName=ucWindow}"  SelectedItem="{Binding DataContext.WaitDoneSlotNum}" FontWeight="Bold" HorizontalAlignment="Stretch" Style="{x:Null}" Padding="4"/>
                                                <Button Grid.Row="3" Grid.ColumnSpan="2" Content="WaferID Confirm Done " Padding="10" Command="{Binding DataContext.WaferIdWaitDoneCommand}"/>
                                            </Grid>
                                        </StackPanel>
                                    </Border>
                                    <Border Grid.Row="1" BorderBrush="DimGray" BorderThickness="1" Margin="1" >
                                        <StackPanel Orientation="Vertical">
                                            <CheckBox Content ="EmulGemMode" IsChecked="{Binding IsEmulGemMode}" Command="{Binding SetEmulGemModeCommand}"  CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}" 
                                                  FontWeight="Bold" HorizontalAlignment="Center" Margin="4"/>
                                            <CheckBox Content ="FoupShiftMode" IsChecked="{Binding IsFoupShiftMode}" Command="{Binding SetFoupShiftModeCommand}"  CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}" 
                                                  FontWeight="Bold" HorizontalAlignment="Center" Margin="4"/>
                                        </StackPanel>
                                        
                                    </Border>

                                </Grid>
                            </Grid>
                        </GroupBox>

                    </Grid>
                </Border>
            </TabItem>

            <!-- FOUP & SLOT TAB -->
            <TabItem Header="FOUP">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="6*"/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <GroupBox Header=" SLOT" FontSize="14" FontWeight="DemiBold" Padding="2">
                        <StackPanel>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Label Grid.Column="0" Content="{Binding SelectedFoup.FoupIndex}" ContentStringFormat="[ FOUP {0} ]"  VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                <Label Grid.Column="1" Content="CELL 01" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                <Label Grid.Column="2" Content="CELL 02" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                <Label Grid.Column="3" Content="CELL 03" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                <Label Grid.Column="4" Content="CELL 04" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                <Label Grid.Column="5" Content="CELL 05" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                <Label Grid.Column="6" Content="CELL 06" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                <Label Grid.Column="7" Content="CELL 07" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                <Label Grid.Column="8" Content="CELL 08" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                <Label Grid.Column="9" Content="CELL 09" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                <Label Grid.Column="10" Content="CELL 10" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                <Label Grid.Column="11" Content="CELL 11" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                <Label Grid.Column="12" Content="CELL 12" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                            </Grid>

                            <ListView ItemsSource="{Binding SelectedFoup.SlotInfos}" Background="#FF2C2C2F"
                                      ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Hidden">
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                        <Setter Property="VerticalContentAlignment" Value="Stretch" />
                                        <!--<Setter Property="IsEnabled" Value="{Binding IsEnableTransfer, Mode=TwoWay}"/>-->
                                    </Style>
                                </ListView.ItemContainerStyle>
                                <ListView.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid Rows="25"/>
                                    </ItemsPanelTemplate>
                                </ListView.ItemsPanel>
                                <ListView.ItemTemplate>
                                    <DataTemplate >
                                        <Border BorderBrush="DimGray" BorderThickness="1">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                </Grid.ColumnDefinitions>
                                                <Label  Content="{Binding SlotIndex}" ContentStringFormat="SLOT #{0}" Padding="3"/>
                                                <ToggleButton Grid.Column="1" Style="{StaticResource MetroFlatToggleButton}" Margin="2"
                                                              IsEnabled="{Binding SlotCellInfos[0].EnableCell}"
                                                              IsChecked="{Binding SlotCellInfos[0].EnableSlot, Mode=TwoWay}"/>
                                                <ToggleButton Grid.Column="2" Style="{StaticResource MetroFlatToggleButton}" Margin="2"
                                                              IsEnabled="{Binding SlotCellInfos[1].EnableCell}"
                                                              IsChecked="{Binding SlotCellInfos[1].EnableSlot, Mode=TwoWay}"/>
                                                <ToggleButton Grid.Column="3" Style="{StaticResource MetroFlatToggleButton}" Margin="2"
                                                              IsEnabled="{Binding SlotCellInfos[2].EnableCell}"
                                                              IsChecked="{Binding SlotCellInfos[2].EnableSlot, Mode=TwoWay}"/>
                                                <ToggleButton Grid.Column="4" Style="{StaticResource MetroFlatToggleButton}" Margin="2"
                                                              IsEnabled="{Binding SlotCellInfos[3].EnableCell}"
                                                              IsChecked="{Binding SlotCellInfos[3].EnableSlot, Mode=TwoWay}"/>
                                                <ToggleButton Grid.Column="5" Style="{StaticResource MetroFlatToggleButton}" Margin="2"
                                                              IsEnabled="{Binding SlotCellInfos[4].EnableCell}"
                                                              IsChecked="{Binding SlotCellInfos[4].EnableSlot, Mode=TwoWay}"/>
                                                <ToggleButton Grid.Column="6" Style="{StaticResource MetroFlatToggleButton}" Margin="2"
                                                              IsEnabled="{Binding SlotCellInfos[5].EnableCell}"
                                                              IsChecked="{Binding SlotCellInfos[5].EnableSlot, Mode=TwoWay}"/>
                                                <ToggleButton Grid.Column="7" Style="{StaticResource MetroFlatToggleButton}" Margin="2"
                                                              IsEnabled="{Binding SlotCellInfos[6].EnableCell}"
                                                              IsChecked="{Binding SlotCellInfos[6].EnableSlot, Mode=TwoWay}"/>
                                                <ToggleButton Grid.Column="8" Style="{StaticResource MetroFlatToggleButton}" Margin="2"
                                                              IsEnabled="{Binding SlotCellInfos[7].EnableCell}"
                                                              IsChecked="{Binding SlotCellInfos[7].EnableSlot, Mode=TwoWay}"/>
                                                <ToggleButton Grid.Column="9" Style="{StaticResource MetroFlatToggleButton}" Margin="2"
                                                              IsEnabled="{Binding SlotCellInfos[8].EnableCell}"
                                                              IsChecked="{Binding SlotCellInfos[8].EnableSlot, Mode=TwoWay}"/>
                                                <ToggleButton Grid.Column="10" Style="{StaticResource MetroFlatToggleButton}" Margin="2"
                                                              IsEnabled="{Binding SlotCellInfos[9].EnableCell}"
                                                              IsChecked="{Binding SlotCellInfos[9].EnableSlot, Mode=TwoWay}"/>
                                                <ToggleButton Grid.Column="11" Style="{StaticResource MetroFlatToggleButton}" Margin="2"
                                                              IsEnabled="{Binding SlotCellInfos[10].EnableCell}"
                                                              IsChecked="{Binding SlotCellInfos[10].EnableSlot, Mode=TwoWay}"/>
                                                <ToggleButton Grid.Column="12" Style="{StaticResource MetroFlatToggleButton}" Margin="2"
                                                              IsEnabled="{Binding SlotCellInfos[11].EnableCell}"
                                                              IsChecked="{Binding SlotCellInfos[11].EnableSlot, Mode=TwoWay}"/>

                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </ListView.ItemTemplate>

                            </ListView>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox Grid.Row="1" Header=" FOUP" FontSize="14" FontWeight="DemiBold" Padding="2">
                        <ListView ItemsSource="{Binding FoupLotInfos}" Background="#FF2C2C2F"
                      ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Hidden"
                                  SelectedItem="{Binding SelectedFoup}">
                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                    <Setter Property="VerticalContentAlignment" Value="Stretch" />
                                    <!--<Setter Property="IsEnabled" Value="{Binding IsEnableTransfer, Mode=TwoWay}"/>-->
                                </Style>
                            </ListView.ItemContainerStyle>
                            <ListView.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <UniformGrid Columns="4" />
                                </ItemsPanelTemplate>
                            </ListView.ItemsPanel>
                            <ListView.ItemTemplate>
                                <DataTemplate >
                                    <Border BorderBrush="Black" BorderThickness="0.8">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="1.2*"/>
                                                <RowDefinition/>
                                                <RowDefinition/>
                                            </Grid.RowDefinitions>
                                            <Label Grid.Row="0" Content="{Binding FoupIndex}" ContentStringFormat="FOUP {0} ID :" 
                                        VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
                                        FontSize="18" FontWeight="DemiBold"/>
                                            <!-- Enable-->
                                            <Grid Grid.Row="1">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                </Grid.ColumnDefinitions>
                                                <Button Content="ENABLE" IsEnabled="{Binding DYModeDisable, Mode=TwoWay}"
                                                        Command="{Binding Path=DataContext.FoupDynamicModeEnableCommand, ElementName=ucWindow}"
                                                        CommandParameter="{Binding FoupIndex}"/>
                                                <Button Grid.Column="1" Content="DISABLE" IsEnabled="{Binding DYModeEnable, Mode=TwoWay}"
                                                        Command="{Binding Path=DataContext.FoupDynamicModeDisableCommand, ElementName=ucWindow}"
                                                        CommandParameter="{Binding FoupIndex}"/>
                                            </Grid>

                                            <!-- Mode -->
                                            <Grid Grid.Row="2">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                </Grid.ColumnDefinitions>
                                                <Button Content="LOAD MODE"
                                                        Command="{Binding Path=DataContext.FoupSetLoadModeCommand, ElementName=ucWindow}"
                                                        CommandParameter="{Binding FoupIndex}"/>
                                                <Button Grid.Column="1" Content="LOAD__UNLOAD MODE"
                                                        Command="{Binding Path=DataContext.FoupSetLoadUnloadModeCommand, ElementName=ucWindow}"
                                                        CommandParameter="{Binding FoupIndex}"/>
                                            </Grid>
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </ListView.ItemTemplate>

                        </ListView>
                    </GroupBox>
                </Grid>
            </TabItem>

            <TabItem Header="OCR">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <GroupBox Header=" SLOT" FontSize="14" FontWeight="DemiBold" Padding="2">
                        <StackPanel>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="0.3*"/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Label Grid.Column="1" Content="{Binding FoupLotInfos[0].FoupIndex}" ContentStringFormat="[ FOUP {0} ]"  VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                <Label Grid.Column="2" Content="{Binding FoupLotInfos[1].FoupIndex}" ContentStringFormat="[ FOUP {0} ]"  VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>


                                <ListView Grid.Column="0" Grid.Row="1"  ItemsSource="{Binding FoupLotInfos[0].SlotInfos}" Background="#FF2C2C2F"
                                      ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Hidden">
                                    <ListView.ItemContainerStyle>
                                        <Style TargetType="ListViewItem">
                                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                            <Setter Property="VerticalContentAlignment" Value="Stretch" />
                                            <Setter Property="IsEnabled" Value="{Binding IsEnableTransfer, Mode=TwoWay}"/>
                                        </Style>
                                    </ListView.ItemContainerStyle>
                                    <ListView.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <UniformGrid Rows="25"/>
                                        </ItemsPanelTemplate>
                                    </ListView.ItemsPanel>
                                    <ListView.ItemTemplate>
                                        <DataTemplate >
                                            <Border BorderBrush="DimGray" BorderThickness="1">
                                                <Label  Content="{Binding SlotIndex}" ContentStringFormat="SLOT #{0}" HorizontalContentAlignment="Right" Padding="3"/>
                                            </Border>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>

                                </ListView>

                                <ListView Grid.Column="1" Grid.Row="1" ItemsSource="{Binding FoupLotInfos[0].SlotInfos}" Background="red"
                                                    ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Hidden">
                                    <ListView.ItemContainerStyle>
                                        <Style TargetType="ListViewItem">
                                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                            <Setter Property="VerticalContentAlignment" Value="Stretch" />
                                            <Setter Property="IsEnabled" Value="{Binding IsEnableTransfer, Mode=TwoWay}"/>
                                        </Style>
                                    </ListView.ItemContainerStyle>
                                    <ListView.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <UniformGrid Rows="25"/>
                                        </ItemsPanelTemplate>
                                    </ListView.ItemsPanel>
                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <TextBox  Text="{Binding Predefined_WaferId}" Padding="3" HorizontalContentAlignment="Center" Background="AliceBlue" Style="{x:Null}"/>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>
                                </ListView>
                                
                                <ListView Grid.Column="2" Grid.Row="1" ItemsSource="{Binding FoupLotInfos[1].SlotInfos}" Background="red"
                                                    ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Hidden">
                                    <ListView.ItemContainerStyle>
                                        <Style TargetType="ListViewItem">
                                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                            <Setter Property="VerticalContentAlignment" Value="Stretch" />
                                            <Setter Property="IsEnabled" Value="{Binding IsEnableTransfer, Mode=TwoWay}"/>
                                        </Style>
                                    </ListView.ItemContainerStyle>
                                    <ListView.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <UniformGrid Rows="25"/>
                                        </ItemsPanelTemplate>
                                    </ListView.ItemsPanel>
                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <TextBox  Text="{Binding Predefined_WaferId}" Padding="3" HorizontalContentAlignment="Center" Background="AliceBlue" Style="{x:Null}"/>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>
                                </ListView>

                            </Grid>

                            
                        </StackPanel>
                    </GroupBox>
                    
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
