<Window x:Class="SorterOpenCV.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SorterOpenCV"
        xmlns:conv="clr-namespace:SorterOpenCV.Converter"
        mc:Ignorable="d"
        Title="MainWindow" Height="800" Width="1600">
    <Window.Resources>
        <ResourceDictionary>
            <conv:IntToStringConvereter x:Key="IntToStringConvereter" />
            
            <Style x:Key="btnFilter" TargetType="{x:Type Button}">
                <Setter Property="Width" Value="50" />
                <Setter Property="Margin" Value="3,0,3,0" />
            </Style>
            <Style x:Key="lbValue" TargetType="{x:Type Label}">
                <Setter Property="FontSize" Value="15" />
                <Setter Property="Margin" Value="1" />
            </Style>
            <Style x:Key="tbValue" TargetType="{x:Type TextBox}">
                <Setter Property="FontSize" Value="15" />
                <Setter Property="Margin" Value="1" />
                <Style.Triggers>
                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=Self}, Converter={StaticResource IntToStringConvereter}}" />
                </Style.Triggers>
            </Style>
        </ResourceDictionary>
    </Window.Resources>
    <DockPanel LastChildFill="True" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="10">
        <Grid Margin="0,3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*" />
                <ColumnDefinition Width="1*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="40" />
                <RowDefinition Height="40" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,3">
                <Button Style="{StaticResource btnFilter}" Command="{Binding Command1}" Content="PreProc->Thres->LnFit1" Width="150" />
                <Button Style="{StaticResource btnFilter}" Command="{Binding Command2}" Content="PreProc->Thres->LnFit2" Width="150" />
                <Button Style="{StaticResource btnFilter}" Command="{Binding Command3}" Content="Threshold->LnFit1" Width="150" />
                <Button Style="{StaticResource btnFilter}" Command="{Binding Command4}" Content="Threshold->LnFit2" Width="150" />
            </StackPanel>
            <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,3">
                <Button Style="{StaticResource btnFilter}" Command="{Binding Command5}" Content="5" Width="150" />
                <Button Style="{StaticResource btnFilter}" Command="{Binding Command6}" Content="6" Width="150" />
                <Button Style="{StaticResource btnFilter}" Command="{Binding Command7}" Content="7" Width="150" />
                <Button Style="{StaticResource btnFilter}" Command="{Binding Command8}" Content="8" Width="150" />
            </StackPanel>
            <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" Margin="0,3">
                <Button Style="{StaticResource btnFilter}" Command="{Binding CmdMatch1}" Content="Matching 1" Width="150" />
                <Button Style="{StaticResource btnFilter}" Command="{Binding CmdMatch2}" Content="Matching 2" Width="150" />
                <Button Style="{StaticResource btnFilter}" Command="{Binding CmdMatch3}" Content="Matching 3" Width="150" />
                <Button Style="{StaticResource btnFilter}" Command="{Binding CmdMatch4}" Content="Matching 4" Width="150" />
            </StackPanel>
            <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Margin="0,3" HorizontalAlignment="Right">
                <Button Grid.Column="1" Style="{StaticResource btnFilter}" HorizontalAlignment="Right" Width="100" Content="Image Load" Command="{Binding CommandLoad}" />
                <Button Grid.Column="1" Style="{StaticResource btnFilter}" HorizontalAlignment="Right" Width="100" Content="Ref. Load" Command="{Binding CommandLoadRef}" Height="34" VerticalAlignment="Bottom" />
            </StackPanel>
            <Border Grid.Column="0" Grid.Row="2" BorderThickness="1" BorderBrush="#000000" Margin="1" Width="600" >
                <Image Margin="3" Source="{Binding ImageSourceOrg}" Stretch="Uniform"/>
            </Border>
            <Border Grid.Column="1" Grid.Row="2" BorderThickness="1" BorderBrush="#000000" Margin="1" Width="600">
                <Image Margin="3" Source="{Binding ImageSource}" Stretch="Uniform"/>
            </Border>        </Grid>
        <Grid DockPanel.Dock="Right" Margin="0,40,0,0">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid Grid.Row="0">
                <ListBox ItemsSource="{Binding ListMat}" SelectedValue="{Binding MatSelectedItem}" />
            </Grid>
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="1*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Label Grid.Row="0" Grid.Column="0" Style="{StaticResource lbValue}"  Content="ThresHold1" />
                <TextBox Grid.Row="0" Grid.Column="1" Style="{StaticResource tbValue}" Text="{Binding VisionParameter.ThresholdMin}" />
                <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource lbValue}" Content="ThresHold2" />
                <TextBox Grid.Row="1" Grid.Column="1" Style="{StaticResource tbValue}" Text="{Binding VisionParameter.ThresholdMax}" />
                <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource lbValue}" Content="Sobel:ksize" />
                <TextBox Grid.Row="2" Grid.Column="1" Style="{StaticResource tbValue}" Text="{Binding VisionParameter.SobelKSize}" />
                <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource lbValue}" Content="Sobel:scale" />
                <TextBox Grid.Row="3" Grid.Column="1" Style="{StaticResource tbValue}" Text="{Binding VisionParameter.SobelScale}" />
                <Label Grid.Row="4" Grid.Column="0" Style="{StaticResource lbValue}" Content="Morphology:Open" />
                <TextBox Grid.Row="4" Grid.Column="1" Style="{StaticResource tbValue}" Text="{Binding VisionParameter.MorphologyOpen}" />
                <Label Grid.Row="5" Grid.Column="0" Style="{StaticResource lbValue}" Content="Morphology:Close" />
                <TextBox Grid.Row="5" Grid.Column="1" Style="{StaticResource tbValue}" Text="{Binding VisionParameter.MorphologyClose}" />
                <Label Grid.Row="6" Grid.Column="0" Style="{StaticResource lbValue}" Content="Blob:MinArea" />
                <TextBox Grid.Row="6" Grid.Column="1" Style="{StaticResource tbValue}" Text="{Binding VisionParameter.BlobMinArea}" />
                <Label Grid.Row="7" Grid.Column="0" Style="{StaticResource lbValue}" Content="Profile:Step" />
                <TextBox Grid.Row="7" Grid.Column="1" Style="{StaticResource tbValue}" Text="{Binding VisionParameter.ProfileStep}" Margin="1,1,1,19" />
                <Label Grid.Row="7" Grid.Column="0" Style="{StaticResource lbValue}" Content="Image:Invert" Margin="0,33,2,-31" />
                <CheckBox Content="Invert" Grid.Column="1" HorizontalAlignment="Left" Margin="1,42,0,-6" Grid.Row="7" VerticalAlignment="Top" IsChecked="{Binding Path=VisionParameter.ImageInvert, Mode=TwoWay}" />
                <Label Grid.Row="7" Grid.Column="0" Style="{StaticResource lbValue}" Content="Find Method" Margin="1,69,1,-67" />
                <CheckBox Content="LineDetection" Grid.Column="1" HorizontalAlignment="Left" Margin="1,78,0,-39" Grid.Row="7" VerticalAlignment="Top" IsChecked="{Binding Path=VisionParameter.LineDetection, Mode=TwoWay}" />
            </Grid>
        </Grid>
    </DockPanel>
</Window>
