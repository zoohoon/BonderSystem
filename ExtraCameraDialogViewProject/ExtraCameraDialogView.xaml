<UserControl x:Class="UcExtraCameraDialogView.ExtraCameraDialogView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:UcExtraCameraDialogView"
             xmlns:prober="clr-namespace:ProberInterfaces;assembly=ProberInterfaces"
             xmlns:hjc="clr-namespace:HexagonJogControl;assembly=HexagonJogControl"
             xmlns:pnpcontrol="clr-namespace:PnPControl;assembly=PnPControl"
             xmlns:vc="clr-namespace:ValueConverters;assembly=ValueConverters"
             xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:MahAppsControls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
             xmlns:MapUC="clr-namespace:MapView;assembly=MapView"
             mc:Ignorable="d" 
             d:DesignHeight="1040" d:DesignWidth="1480">
    <UserControl.Resources>
        <ResourceDictionary>
            <vc:BinaryImageConverter x:Key="imgConverter" />
            <vc:BoolToVisibleOrCollapsedConverter x:Key="visibleOrCollapsConv" />

            <DataTemplate x:Key="DisplayViewTemplate" DataType="{x:Type prober:IDisplayPort}" >
                <ContentControl Name="DisPlay" Content="{Binding}">
                </ContentControl>
            </DataTemplate>
            <pnpcontrol:TemplateSelector x:Key="ViewTargetTemplateSelector" 
                                    DisplayViewDataTemplate="{StaticResource DisplayViewTemplate}"/>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="120*"/>
            <RowDefinition Height="72*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="32*"/>
            <ColumnDefinition Width="40*"/>
        </Grid.ColumnDefinitions>

        <Border 
            Grid.Row="0"
            Grid.RowSpan="1"
            Grid.Column="0"
            Margin="4"
            BorderThickness="1"
            BorderBrush="White">
        </Border>
        <Grid Grid.Row="0" 
              Grid.Column="0"
              Margin="4"
              >
            <Grid.RowDefinitions>
                <RowDefinition Height="8*"/>
                <RowDefinition Height="80*"/>
            </Grid.RowDefinitions>

            <Grid
                Grid.Row="0"
                      >

            </Grid>

            <Grid 
                Grid.Row="1"
                >
                <Border 
                    Grid.Row="0"
                    BorderThickness="1"
                    BorderBrush="White"/>

                <Border 
                    Grid.Row="1"
                    BorderThickness="1"
                    BorderBrush="White"/>
                <MapUC:ucWaferMapviewer 
                    MinHeight="200" MinWidth="200"
                    Opacity="1" Margin="8" 
                    EnalbeClickToMove="True"
                    IsCrossLineVisible="True"
                    WaferObject="{Binding StageSupervisor.WaferObject, Mode=TwoWay}" 
                    CurCamera="{Binding CurCam}"
                    CurrXYIndex="{Binding MXYIndex, Mode=TwoWay}"
                    CoordinateManager="{Binding CoordinateManager, Mode=TwoWay}"
                    RenderMode="{Binding MapViewControlMode}"
                    CursorXIndex="{Binding CurXIndex, Mode=TwoWay}"
                    CursorYIndex="{Binding CurYIndex, Mode=TwoWay}"
                    StageSyncEnalbe="False"/>
            </Grid>
        </Grid>

        <Border 
            Grid.Row="0"
            Grid.RowSpan="1"
            Grid.Column="1"
            Margin="4"
            BorderThickness="1"
            BorderBrush="White">
        </Border>
        <Grid Grid.Row="0" 
              Grid.Column="1"
              Margin="4"
              >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="32*"/>
                <ColumnDefinition Width="8*"/>
            </Grid.ColumnDefinitions>
            <Grid Grid.Column="0"
                  >
                <Grid.RowDefinitions>
                    <RowDefinition Height="8*"/>
                    <RowDefinition Height="80*"/>
                </Grid.RowDefinitions>

                <Border 
                    Grid.Row="0"
                    Grid.RowSpan="1"
                    Grid.Column="1"
                    BorderThickness="1"
                    BorderBrush="White"/>
                <Grid Grid.Row="0"
                      Margin="4"
                      >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="40*"/>
                        <ColumnDefinition Width="20*"/>
                        <ColumnDefinition Width="20*"/>
                    </Grid.ColumnDefinitions>

                    <ComboBox Grid.Column="0" Margin="4"
                        HorizontalContentAlignment="Center"
                        VerticalContentAlignment="Center"
                        Foreground="White"
                        ItemsSource="{Binding CamList}"
                        SelectedItem="{Binding CurCam}"
                        DisplayMemberPath="CameraChannel.Type"
                        />

                    <Button Grid.Column="1"
                        Margin="4"
                        Content="Change Cam"
                        IsEnabled="{Binding IsEnableChangeCamBtn}"
                        Command="{Binding ChangeCamCommand}"
                        />

                    <Button Grid.Column="2"
                        Margin="4"
                        Content="Stop CurCam"
                        IsEnabled="{Binding IsEnableStopCurCamBtn}"
                        Command="{Binding StopCurCameraCommand}"
                        />
                </Grid>

                <Grid Grid.Row="1"
                      >
                    <Border 
                    Grid.Row="0"
                    Grid.RowSpan="1"
                    Grid.Column="1"
                    Margin="0"
                    BorderThickness="1"
                    BorderBrush="White"/>

                    <Viewbox Margin="8">
                        <Grid>
                            <ContentControl
                        Name="DisplayPortCC"
                        Content="{Binding DisplayPort}" 
                        VerticalAlignment="Stretch" 
                        HorizontalAlignment="Stretch"
                        ContentTemplateSelector="{StaticResource ViewTargetTemplateSelector}"
                        Width="480"
                        Height="480"
                        >
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseDown">
                                        <i:InvokeCommandAction Command="{Binding MeasureDistanceCommand}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </ContentControl>
                            <Image Source="{Binding OverlapImage}"
                                IsHitTestVisible="False"
                                Opacity="0.5"
                                Width="480"
                                Height="480"/>
                            <local:UcMeasureDistance    Background="Transparent"
                                            Visibility="{Binding IsUsingLineTracer,
                                            Converter={StaticResource visibleOrCollapsConv}}"/>
                            <local:CenterRactangleDrawer Background="Transparent"
                                            Visibility="{Binding IsUsingCenterRactangleDrawer,
                                            Converter={StaticResource visibleOrCollapsConv}}"/>
                        </Grid>
                    </Viewbox>
                </Grid>
            </Grid>

            <Border 
                Grid.Row="1"
                Grid.RowSpan="1"
                Grid.Column="1"
                BorderThickness="1"
                BorderBrush="White"/>

            <Grid Grid.Column="1"
                  >
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                </Grid.RowDefinitions>

                <Button Grid.Row="0"
                        Margin="8"
                        Content="Z Clearence"
                        Command="{Binding ZClearenceCommand}"
                        />
                <Button Grid.Row="1"
                        Margin="8"
                        Content="Z Up"
                        Command="{Binding ZUpCommand}"
                        />
                <Button Grid.Row="2"
                        Margin="8"
                        Content="Z Down"
                        Command="{Binding ZDownCommand}"
                        />
                <Button Grid.Row="3"
                        Margin="8"
                        Content="Move to Pin High Pos"
                        Command="{Binding MoveToPinHighPosCommand}"
                        />
            </Grid>
        </Grid>


        <Border 
            Grid.Row="1"
            Grid.RowSpan="1"
            Grid.Column="0"
            Margin="4"
            BorderThickness="1"
            BorderBrush="White">
        </Border>
        <Grid 
            Grid.Row="1" 
            Grid.Column="0"
            Margin="8"
            >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0">
                
            </Grid>
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <Button Margin="4"
                        Grid.Row="0"
                        Content="Set Overlap"
                        Command="{Binding SetOverlapCommand}"
                        />
                <Button Margin="4"
                        Grid.Row="1"
                        Content="Reset Overlap"
                        Command="{Binding ResetOverlapCommand}"
                        />

                <Grid Grid.Row="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="104*"/>
                        <ColumnDefinition Width="48*"/>
                    </Grid.ColumnDefinitions>
                    <Label  Grid.Column="0"
                            HorizontalContentAlignment="Right"
                            VerticalContentAlignment="Center"
                            Padding="0"
                            Content="Distance measure :"
                            Foreground="Red"
                            FontSize="12"
                            />
                    <ToggleButton   Grid.Column="1"
                                    HorizontalAlignment="Left"
                                Command="{Binding MeasureDistanceModeCommand}"
                                IsChecked="{Binding IsMeasureDistanceMode}"
                                />
                </Grid>

                <Grid Grid.Row="3">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="104*"/>
                        <ColumnDefinition Width="48*"/>
                    </Grid.ColumnDefinitions>
                    <Label  Grid.Column="0"
                            HorizontalContentAlignment="Right"
                            VerticalContentAlignment="Center"
                            Padding="0"
                            Content="LineTracer Mode :"
                            Foreground="Red"
                            FontSize="12"
                            />
                    <ToggleButton   Grid.Column="1"
                                    HorizontalAlignment="Left"
                                Command="{Binding MeasureDistanceOnOffCommand}"
                                IsChecked="{Binding IsUsingLineTracer}"
                                />
                </Grid>
       
                <Grid Grid.Row="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="104*"/>
                        <ColumnDefinition Width="48*"/>
                    </Grid.ColumnDefinitions>
                    <Label  Grid.Column="0"
                            HorizontalContentAlignment="Right"
                            VerticalContentAlignment="Center"
                            Padding="0"
                            Content="Center Rect Drawer :"
                            Foreground="Red"
                            FontSize="12"
                            />
                    <ToggleButton   Grid.Column="1"
                                    HorizontalAlignment="Left"
                                    IsChecked="{Binding IsUsingCenterRactangleDrawer}"/>
                </Grid>
                <Grid Grid.Row="5"
                          Visibility="{Binding IsUsingCenterRactangleDrawer,
                                            Converter={StaticResource visibleOrCollapsConv}}"
                          >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Button Grid.Column="0"
                                Padding="0"
                                Margin="4"
                                Content="▲"
                                FontSize="24"
                                Command="{Binding UpCenterRectLengthCommand}"
                                />


                    <Button Grid.Column="1"
                                Padding="0"
                                Margin="4"
                                Content="▼"
                                FontSize="24"
                                Command="{Binding DownCenterRectLengthCommand}"
                                />

                </Grid>

            </Grid>
        </Grid>


        <Border 
            Grid.Row="1"
            Grid.RowSpan="1"
            Grid.Column="1"
            Margin="4"
            BorderThickness="1"
            BorderBrush="White">
        </Border>
        <Grid 
            Grid.Row="1" 
            Grid.Column="1"
            Margin="4"
              >
            <MahAppsControls:MetroAnimatedSingleRowTabControl>
                <MahAppsControls:MetroAnimatedSingleRowTabControl.Resources>
                    <SolidColorBrush x:Key="AccentColorBrush" Color="#9370d8"/>
                    <SolidColorBrush x:Key="HighlightBrush" Color="#7260b5"/>
                </MahAppsControls:MetroAnimatedSingleRowTabControl.Resources>
                <MahAppsControls:MetroTabItem
                    Header="Offset"
                    MahAppsControls:ControlsHelper.HeaderFontSize="20"
                    MahAppsControls:ControlsHelper.HeaderMargin="8"
                    >
                    <Grid
                        Background="#333333"
                        Margin="8"
                        >
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        
                        <Grid
                            Grid.Row="0"
                            Margin="8">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="80*"/>
                                <RowDefinition Height="80*"/>
                            </Grid.RowDefinitions>
                            <Border 
                                Grid.Row="0"
                                Grid.RowSpan="1"
                                BorderThickness="1"
                                BorderBrush="White">
                            </Border>


                            <Border Grid.Row="0"
                                BorderThickness="1"
                                BorderBrush="White">
                            </Border>
                            <Grid Grid.Row="0" VerticalAlignment="Center">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>

                                <Label Grid.Column="0" Content="PMShift"
                                    Foreground="White"
                                    FontSize="14"
                                    Padding="0" Margin="8 0"
                                    HorizontalContentAlignment="Right"
                                    VerticalContentAlignment="Center"
                                    />

                                <Grid 
                                    Grid.Column="1" 
                                    >
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Label
                                        Content="X :"
                                        Foreground="White"
                                        Margin="0"
                                        VerticalContentAlignment="Center"
                                        />
                                    <TextBox    
                                        Grid.Column="1"
                                        Text="{Binding PMOffsetX}"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Center"
                                        VerticalAlignment="Center"
                                        Foreground="White"
                                        FontSize="14"
                                        Padding="0" Margin="4 0"
                                        />
                                </Grid>
                                <Grid 
                                    Grid.Column="2" 
                                    >
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Label
                                        Content="Y :"
                                        Foreground="White"
                                        Margin="0"
                                        VerticalContentAlignment="Center"
                                        />
                                    <TextBox
                                        Grid.Column="1" 
                                        Text="{Binding PMOffsetY}"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Center"
                                        VerticalAlignment="Center"
                                        Foreground="White"
                                        FontSize="14"
                                        Padding="0" Margin="4 0"
                                    />
                                </Grid>

                                <Grid 
                                    Grid.Column="3" 
                                    >
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Label
                                        Content="Z :"
                                        Foreground="White"
                                        Margin="0"
                                        VerticalContentAlignment="Center"
                                        />
                                    <TextBox    
                                        Grid.Column="1" 
                                        Text="{Binding PMOffsetZ}"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Center"
                                        VerticalAlignment="Center"
                                        Foreground="White"
                                        FontSize="14"
                                        Padding="0" Margin="4 0"
                                        />
                                </Grid>
                                
                                <Grid 
                                    Grid.Column="4" 
                                    >
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Label
                                        Content="T :"
                                        Foreground="White"
                                        Margin="0"
                                        VerticalContentAlignment="Center"
                                        />
                                    <TextBox    
                                        Grid.Column="1"
                                        Text="{Binding PMOffsetT}"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Center"
                                        VerticalAlignment="Center"
                                        Foreground="White"
                                        FontSize="14"
                                        Padding="0" 
                                        Margin="4 0"
                                        />
                                </Grid>

                                <Button Grid.Column="5"
                                    Padding="0"
                                    Margin="4 0"
                                    Content="Change"
                                    Foreground="White"
                                    Command="{Binding ChangePMOffsetCommand}"
                                    />
                            </Grid>


                            <Border Grid.Row="1"
                                BorderThickness="1"
                                BorderBrush="White"/>
                            <Grid Grid.Row="1"
                                  VerticalAlignment="Center">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>

                                <Label 
                                    Grid.Column="0" 
                                    Content="PHOffset"
                                    Foreground="White"
                                    FontSize="14"
                                    Padding="0" 
                                    Margin="8 0"
                                    HorizontalContentAlignment="Right"
                                    VerticalContentAlignment="Center"
                                    />

                                <Grid Grid.Column="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Label
                                        Content="X :"
                                        Foreground="White"
                                        Margin="0"
                                        VerticalContentAlignment="Center"
                                        />
                                    <TextBox    
                                        Grid.Column="1" 
                                        Text="{Binding PHOffsetX}"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Center"
                                        VerticalAlignment="Center"
                                        Foreground="White"
                                        FontSize="14"
                                        Padding="0" Margin="4 0"
                                        />
                                </Grid>
                                <Grid Grid.Column="2">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Label
                                        Content="Y :"
                                        Foreground="White"
                                        Margin="0"
                                        VerticalContentAlignment="Center"
                                        />
                                    <TextBox    
                                        Grid.Column="2" 
                                        Text="{Binding PHOffsetY}"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Center"
                                        VerticalAlignment="Center"
                                        Foreground="White"
                                        FontSize="14"
                                        Padding="0" Margin="4 0"
                                        />
                                </Grid>

                                <Grid Grid.Column="3">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Label
                                        Content="Z :"
                                        Foreground="White"
                                        Margin="0"
                                        VerticalContentAlignment="Center"
                                        />
                                    <TextBox    
                                        Grid.Column="3" 
                                        Text="{Binding PHOffsetZ}"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Center"
                                        VerticalAlignment="Center"
                                        Foreground="White"
                                        FontSize="14"
                                        Padding="0" Margin="4 0"
                                        />
                                </Grid>

                                <Grid Grid.Column="4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Label
                                        Content="T :"
                                        Foreground="White"
                                        Margin="0"
                                        VerticalContentAlignment="Center"
                                        />
                                    <TextBox    
                                        Grid.Column="4" 
                                        Text="{Binding PHOffsetT}"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Center"
                                        VerticalAlignment="Center"
                                        Foreground="White"
                                        FontSize="14"
                                        Padding="0" Margin="4 0"
                                        />
                                </Grid>

                                <Button 
                                    Grid.Column="5"
                                    Padding="0"
                                    Margin="4 0"
                                    Content="Change"
                                    Foreground="White"
                                    Command="{Binding ChangeWHOffsetCommand}"
                                    />
                            </Grid>
                        </Grid>

                        <Border
                            Grid.Row="1"
                            Margin="8"
                            BorderThickness="1"
                            BorderBrush="White"/>
                        <Grid 
                            Grid.Row="1">
                            <Grid 
                                Grid.Row="2"
                                Margin="8"
                                >
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>

                                <Grid
                                    Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="64*"/>
                                        <ColumnDefinition Width="48*"/>
                                        <ColumnDefinition Width="80*"/>
                                        <ColumnDefinition Width="48*"/>
                                        <ColumnDefinition Width="54*"/>
                                    </Grid.ColumnDefinitions>
                                    <Label 
                                        Grid.Column="0"
                                        FontSize="12"
                                        Padding="0"
                                        Content="Twist Val (probing) : "
                                        Foreground="White"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        />
                                    <TextBox 
                                        Grid.Column="1"
                                        Margin="8"
                                        Padding="0"
                                        Foreground="White"
                                        VerticalContentAlignment="Center"
                                        HorizontalContentAlignment="Center"
                                        Text="{Binding TwistValue}"
                                        />
                                    <Label 
                                        Grid.Column="2"
                                        FontSize="12"
                                        Padding="0"
                                        Content="Squareness Val (probing) : "
                                        Foreground="White"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        />
                                    <TextBox 
                                        Grid.Column="3"
                                        Margin="8"
                                        Foreground="White"
                                        Padding="0"
                                        VerticalContentAlignment="Center"
                                        HorizontalContentAlignment="Center"
                                        Text="{Binding SquarenceValue}"
                                        />
                                    <Button 
                                        Grid.Column="4"
                                        Margin="8"
                                        Content="Save"
                                        Command="{Binding SaveValueForProbingCommand}"
                                        />
                                </Grid>

                                <Grid Grid.Row="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="64*"/>
                                        <ColumnDefinition Width="80*"/>
                                        <ColumnDefinition Width="64*"/>
                                        <ColumnDefinition Width="80*"/>
                                        <ColumnDefinition Width="64*"/>
                                        <ColumnDefinition Width="80*"/>
                                        <ColumnDefinition Width="64*"/>
                                        <ColumnDefinition Width="80*"/>
                                    </Grid.ColumnDefinitions>
                                    <Label 
                                        Grid.Column="0"
                                        FontSize="12"
                                        Padding="0"
                                        Content="Deflect X : "
                                        Foreground="White"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        />
                                    <TextBox 
                                        Grid.Column="1"
                                        Margin="8"
                                        Padding="0"
                                        Foreground="White"
                                        VerticalContentAlignment="Center"
                                        HorizontalContentAlignment="Center"
                                        Text="{Binding DeflectX}"
                                        />
                                    <Label 
                                        Grid.Column="2"
                                        FontSize="12"
                                        Padding="0"
                                        Content="Deflect Y : "
                                        Foreground="White"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        />
                                    <TextBox 
                                        Grid.Column="3"
                                        Margin="8"
                                        Padding="0"
                                        Foreground="White"
                                        VerticalContentAlignment="Center"
                                        HorizontalContentAlignment="Center"
                                        Text="{Binding DeflectY}"
                                        />
                                    <Label 
                                        Grid.Column="4"
                                        FontSize="12"
                                        Padding="0"
                                        Content="InclineZHor : "
                                        Foreground="White"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        />
                                    <TextBox 
                                        Grid.Column="5"
                                        Margin="8"
                                        Padding="0"
                                        Foreground="White"
                                        VerticalContentAlignment="Center"
                                        HorizontalContentAlignment="Center"
                                        Text="{Binding InclineZHor}"
                                        />
                                    <Label 
                                        Grid.Column="6"
                                        FontSize="12"
                                        Padding="0"
                                        Content="InclineZVer : "
                                        Foreground="White"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        />
                                    <TextBox 
                                        Grid.Column="7"
                                        Margin="8"
                                        Padding="0"
                                        Foreground="White"
                                        VerticalContentAlignment="Center"
                                        HorizontalContentAlignment="Center"
                                        Text="{Binding InclineZVer}"
                                        />
                                </Grid>
                            
                            </Grid>

                        </Grid>

                        <Border Grid.Row="2" Margin="8" BorderThickness="1" BorderBrush="White">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Grid Grid.Column="0">
                                    <DataGrid ItemsSource="{Binding  CPCParams}" VerticalScrollBarVisibility="Visible">
                                    </DataGrid>
                                </Grid>
                                <Grid Grid.Column="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    
                                    <Label Grid.Column="0" Grid.Row="0"  Foreground="White" FontSize="12" Content="Position : "
                                       />
                                    <Label Grid.Column="0" Grid.Row="1"  Foreground="White" FontSize="12" Content="Z0 : "
                                        VerticalContentAlignment="Center"  HorizontalContentAlignment="Center"/>
                                    <Label Grid.Column="2" Grid.Row="0"  Foreground="White" FontSize="12" Content="Z1 : "
                                        VerticalContentAlignment="Center"  HorizontalContentAlignment="Center"/>
                                    <Label Grid.Column="2" Grid.Row="1"  Foreground="White" FontSize="12" Content="Z2 : "
                                        VerticalContentAlignment="Center"  HorizontalContentAlignment="Center"/>


                                    <TextBox Grid.Column="1" Grid.Row="0"  Foreground="White" FontSize="12" Text="{Binding CPCPosition}"
                                        VerticalContentAlignment="Center"  HorizontalContentAlignment="Center"/>
                                    <TextBox Grid.Column="1" Grid.Row="1"  Foreground="White" FontSize="12" Text="{Binding CPCZ0}"
                                        VerticalContentAlignment="Center"  HorizontalContentAlignment="Center"/>
                                    <TextBox Grid.Column="3" Grid.Row="0"  Foreground="White" FontSize="12" Text="{Binding CPCZ1}"
                                        VerticalContentAlignment="Center"  HorizontalContentAlignment="Center"/>
                                    <TextBox Grid.Column="3" Grid.Row="1"  Foreground="White" FontSize="12" Text="{Binding CPCZ2}"
                                        VerticalContentAlignment="Center"  HorizontalContentAlignment="Center"/>
                                    <Button Content="Update" Grid.Row="2" Grid.Column="2" Command="{Binding UpdateCPCCommand}"/>
                                    <Button Content="Add" Grid.Row="2" Grid.Column="3" Command="{Binding AddCPCCommand}"/>
                                </Grid>
                            </Grid>
                        </Border>
                    </Grid>
                </MahAppsControls:MetroTabItem>
                <MahAppsControls:MetroTabItem
                    Header="Pin Pad Match"
                    MahAppsControls:ControlsHelper.HeaderFontSize="20">

                    <Grid
                        Background="#333333"
                        Margin="8"
                        >
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>

                        <Border 
                            Grid.Row="0"
                            Grid.Column="0"
                            Grid.ColumnSpan="5"
                            Margin="8"
                            BorderThickness="1"
                            BorderBrush="White"/>

                        <Grid
                            Grid.Row="0"
                            Margin="8"
                            >
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>

                            <Border 
                            Grid.Row="0" Grid.RowSpan="1"
                            Grid.Column="0" Grid.ColumnSpan="5"
                            BorderThickness="1"
                            BorderBrush="White"/>

                            <Label
                            Grid.Column="1" Content="X"
                            Foreground="White"
                            FontSize="16"
                            Padding="0" Margin="0"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            />
                            <Label Grid.Column="2" Content="Y"
                           Foreground="White"
                           FontSize="16"
                           Padding="0" Margin="0"
                           HorizontalContentAlignment="Center"
                           VerticalContentAlignment="Center"
                           />
                            <Label Grid.Column="3" Content="Z"
                           Foreground="White"
                           FontSize="16"
                           Padding="0" Margin="0"
                           HorizontalContentAlignment="Center"
                           VerticalContentAlignment="Center"
                           />

                            <Border 
                            Grid.Row="1" Grid.RowSpan="1"
                            Grid.Column="0" Grid.ColumnSpan="5"
                            BorderThickness="1"
                            BorderBrush="White"/>

                            <Label 
                            Grid.Row="1"
                            Grid.Column="0" 
                            Content="Pin"
                            Foreground="White"
                            FontSize="16"
                            Padding="0" Margin="8"
                            HorizontalContentAlignment="Right"
                            VerticalContentAlignment="Center"
                            />

                            <TextBox
                            Grid.Row="1"
                            Grid.Column="1" 
                            Text="{Binding PinXPos, StringFormat=N2}"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Center"
                            Foreground="White"
                            FontSize="16"
                            Padding="0" Margin="4 0"
                            />

                            <TextBox
                            Grid.Row="1"
                            Grid.Column="2"
                            Text="{Binding PinYPos, StringFormat=N2}"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Center"
                            Foreground="White"
                            FontSize="16"
                            Padding="0" Margin="4 0"
                            />
                            <TextBox
                            Grid.Row="1"
                            Grid.Column="3" Text="{Binding PinZPos, StringFormat=N2}"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Center"
                            Foreground="White"
                            FontSize="16"
                            Padding="0" Margin="4 0"
                            />
                            <Button
                                Grid.Row="1"
                                Grid.Column="4"
                                Margin="8"
                                VerticalAlignment="Center"
                                Content="Get"
                                Command="{Binding GetPinPosCommand}"/>


                            <Border 
                                Grid.Row="2"
                                Grid.Column="0"
                                Grid.ColumnSpan="5"
                                BorderThickness="1"
                                BorderBrush="White"/>
                            <Label 
                                Grid.Row="21"
                                Grid.Column="0" 
                                Content="Wafer"
                                Foreground="White"
                                FontSize="16"
                                Padding="0" Margin="16 0"
                                HorizontalContentAlignment="Right"
                                VerticalContentAlignment="Center"
                                />

                            <TextBox
                            Grid.Row="2"
                            Grid.Column="1"
                            Text="{Binding WaferXPos, StringFormat=N2}"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Center"
                            Foreground="White"
                            FontSize="16"
                            Padding="0" Margin="4 0"
                            />
                            <TextBox 
                            Grid.Row="2"
                            Grid.Column="2" 
                            Text="{Binding WaferYPos, StringFormat=N2}"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Center"
                            Foreground="White"
                            FontSize="16"
                            Padding="0" Margin="4 0"
                            />
                            <TextBox    
                            Grid.Row="2"
                            Grid.Column="3"
                            Text="{Binding WaferZPos, StringFormat=N2}"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            HorizontalContentAlignment="Center"
                            Foreground="White"
                            FontSize="16"
                            Padding="0" 
                            Margin="4 0"
                            />
                            <Button
                                Grid.Row="2"
                                Grid.Column="4"
                                Margin="8"
                                Content="Get"
                                VerticalAlignment="Center"
                                Command="{Binding GetWaferPosCommand}"/>

                            <Button 
                                Grid.Column="5"
                                Grid.Row="0"
                                Grid.RowSpan="3"
                                Margin="8"
                                Command="{Binding PinPadMatchCommand}">
                                <Button.Content>
                                    <TextBlock
                                        Foreground="White"
                                        Text="Pin Pad Match"
                                        TextWrapping="Wrap"
                                        >
                                    </TextBlock>
                                </Button.Content>
                            </Button>

                        </Grid>

                    </Grid>
                </MahAppsControls:MetroTabItem>
                <MahAppsControls:MetroTabItem 
                    Header="Mapping"
                    MahAppsControls:ControlsHelper.HeaderFontSize="20" Margin="-2,-3,-2,1">
                    <Grid
                        Background="#333333"
                        Margin="8"
                        >
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>

                        <Button 
                            Grid.Row="0"
                            Grid.Column="0"
                            Margin="4 8"
                            Content="Wafer Align"
                            Command="{Binding WaferAlignCommand}"
                            />
                        <Button 
                            Grid.Row="0"
                            Grid.Column="1"
                            Margin="4 8"
                            Content="Pattern Registration"
                            Command="{Binding RegistePatternCommand}"
                            />

                        <Button 
                            Grid.Row="1"
                            Grid.Column="0"
                            Margin="4 8"
                            Content="Auto Focus"
                            Command="{Binding AutoFocusCommand}"
                            />



                        <Button 
                            Grid.Row="0"
                            Grid.Column="2"
                            Margin="4 8"
                            Content="Measure Center X"
                            Command="{Binding MeasureCenterXCommand}"
                            />
                        <Button 
                            Grid.Row="1"
                            Grid.Column="2"
                            Margin="4 8"
                            Content="Measure Center Y"
                            Command="{Binding MeasureCenterYCommand}"
                            />
                        <Button 
                            Grid.Row="0"
                            Grid.Column="3"
                            Margin="4 8"
                            Content="Measure Now Row"
                            Command="{Binding MeasureCurRowCommand}"
                            />
                        <Button 
                            Grid.Row="1"
                            Grid.Column="3"
                            Margin="4 8"
                            Content="Stop"
                            Command="{Binding StopCommand}"
                            />
                        <Button 
                            Grid.Row="0"
                            Grid.Column="4"
                            Margin="4 8"
                            Content="Graph"
                            Command="{Binding}"
                            />
                        <Button 
                            Grid.Row="1"
                            Grid.Column="4"
                            Margin="4 8"
                            Content="Export Error Table"
                            Command="{Binding}"
                            />
                        <Button 
                            Grid.Row="0"
                            Grid.Column="5"
                            Margin="4 8"
                            Content="Reload Errordata"
                            Command="{Binding ReloadErrTableCommand}"
                            />
                        <Button 
                            Grid.Row="1"
                            Grid.Column="6"
                            Margin="4 8"
                            Content="Init Error Table"
                            Command="{Binding InitErrTableCommand}"
                            />
                        <Button 
                            Grid.Row="2"
                            Grid.Column="0"
                            Margin="4 8"
                            Content="ViewPTRect"
                            Command="{Binding ViewRectCommand}"
                            />
                        <Grid Grid.Row="2" Grid.Column="1" Margin="4,8">
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Button Grid.Row="0"
                            Content="PluseRectWidth"
                            Margin="1"
                            Command="{Binding UCDisplayRectWidthPlusCommand}"
                            />
                            <Button Grid.Row="1" Margin="1"
                            Content="MinusRectWidth"
                            Command="{Binding UCDisplayRectWidthMinusCommand}"
                            />
                        </Grid>

                        <Grid Grid.Row="2" Grid.Column="2" Margin="4 8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Button Grid.Column="0" Margin="1"
                            Content="PluseHeight"
                            Command="{Binding UCDisplayRectHeightPlusCommand}"
                            />
                            <Button Grid.Column="1" Margin="1"
                            Content="MinusHeight"
                            Command="{Binding UCDisplayRectHeightMinusCommand}"
                            />
                        </Grid>

                        <Grid Grid.Row="2" Grid.Column="3">
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>

                            <StackPanel >
                                <CheckBox VerticalAlignment="Center" Foreground="White"  FontSize="15" IsChecked="{Binding CamHorFlip}">CamHorFilp</CheckBox>
                                <CheckBox VerticalAlignment="Center" Foreground="White"  FontSize="15" IsChecked="{Binding CamVerFlip}">CamVertFilp</CheckBox>
                            </StackPanel>
                            <Button Grid.Row="1" Content="APPLY" Command="{Binding ApplyCamFilpCommand}"/>
                        </Grid>

                        <StackPanel Grid.Row="2" Grid.Column="5">
                            <CheckBox x:Name="FirstErrorComp_CB" Foreground="White"  FontSize="15" IsChecked="{Binding Path=MotionManager.ErrorManager.CompensationModule.Enable1D, Mode=TwoWay}">1 ErrComp</CheckBox>
                            <CheckBox x:Name="SecondErrorComp_CB" Foreground="White" FontSize="15" IsChecked="{Binding Path=MotionManager.ErrorManager.CompensationModule.Enable2D, Mode=TwoWay}">2 ErrComp</CheckBox>
                            <Label Foreground="Yellow" Margin="0,0,0,-10">1st=>1Comp check</Label>
                            <Label Foreground="Yellow">2st=>All Check</Label>
                        </StackPanel>
                    </Grid>
                </MahAppsControls:MetroTabItem>
                <MahAppsControls:MetroTabItem Header="etc"
                         MahAppsControls:ControlsHelper.HeaderFontSize="20">
                    <Grid
                        Background="#333333"
                        Margin="8"
                        >
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Button Grid.Column="0" Grid.Row="0" Command="{Binding NCHPSystemParameterSaveCommand}"
                                Margin="8" 
                                >
                            <Button.Content>
                                <TextBlock
                                        Text="NC System Parameter Save"
                                        TextWrapping="Wrap"
                                        >
                                </TextBlock>
                            </Button.Content>
                        </Button>
                        
                            <Label Grid.Column="0" Grid.Row="1" Content="PMTempShift"
                                    Foreground="White"
                                    FontSize="14"
                                    Padding="0" Margin="8 0"
                                    HorizontalContentAlignment="Center"
                                    VerticalContentAlignment="Center"
                                    />

                            <Grid 
                                    Grid.Column="1" Grid.Row="1"
                                    >
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Label
                                        Content="X :"
                                        Foreground="White"
                                        Margin="0"
                                        VerticalContentAlignment="Center"
                                        />
                                <TextBox    
                                        Grid.Column="1"
                                        Text="{Binding PMTempOffsetX}"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Center"
                                        VerticalAlignment="Center"
                                        Foreground="White"
                                        FontSize="14"
                                        Padding="0" Margin="4 0"
                                        />
                            </Grid>
                        
                            <Grid 
                                    Grid.Column="2"  Grid.Row="1"
                                    >
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Label
                                        Content="Y :"
                                        Foreground="White"
                                        Margin="0"
                                        VerticalContentAlignment="Center"
                                        />
                                <TextBox
                                        Grid.Column="1" 
                                        Text="{Binding PMTempOffsetY}"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Center"
                                        VerticalAlignment="Center"
                                        Foreground="White"
                                        FontSize="14"
                                        Padding="0" Margin="4 0"
                                    />
                            </Grid>
                        <Button Grid.Column="3" Grid.Row="1"
                                    Padding="0"
                                    Margin="4 0"
                                    Content="Change"
                                    Foreground="White"
                                    Command="{Binding ChangePMTempOffsetCommand}"
                                    />
                    </Grid>
                </MahAppsControls:MetroTabItem>
            </MahAppsControls:MetroAnimatedSingleRowTabControl>
        </Grid>
    </Grid>

</UserControl>
