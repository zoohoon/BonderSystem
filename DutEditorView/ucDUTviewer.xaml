<UserControl x:Class="ucDutViewer.ucDUTviewer"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:ucDutViewer"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
              xmlns:ValueConvert="clr-namespace:ValueConverters;assembly=ValueConverters"   
             mc:Ignorable="d"  x:Name="ucwindow"
             d:DesignHeight="960" d:DesignWidth="960" Background="Transparent">

    <UserControl.Resources>
        <ResourceDictionary>

            <ResourceDictionary.MergedDictionaries>

                <!--<ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Button.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.CheckBox.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.ListBox.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.PopupBox.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.RadioButton.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.TextBlock.xaml" />-->
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.ToggleButton.xaml" />

            </ResourceDictionary.MergedDictionaries>
            <ValueConvert:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" True="Collapsed" False="Visible"/>
        </ResourceDictionary>

    </UserControl.Resources>

    <Grid>

        <local:DutViewControl StageSupervisor="{Binding StageSupervisor}" 
                              ProbeCard="{Binding StageSupervisor.ProbeCardInfo}"
                              WaferObject="{Binding WaferObject}"
                              VisionManager="{Binding VisionManager}"
                              ZoomLevel="{Binding ZoomLevel, Mode=TwoWay}"
                              ShowPad="{Binding ShowPad, Mode=TwoWay}"
                              ShowPin="{Binding ShowPin, Mode=TwoWay}"
                              EnableDragMap="{Binding EnableDragMap, Mode=TwoWay}"
                              ShowCurrentPos="{Binding ShowCurrentPos, Mode=TwoWay}"
                              ShowCurrentPosROI="{Binding ShowCurrentPosROI, Mode=TwoWay}"
                              ShowSelectedDut="{Binding ShowSelectedDut, Mode=TwoWay}"
                              ShowGrid="{Binding ShowGrid, Mode=TwoWay}"
                              AddCheckBoxIsChecked="{Binding AddCheckBoxIsChecked}"
                              CamType="{Binding CurCam.Param.ChannelType.Value, Mode=TwoWay}"
                              CurCam="{Binding CurCam}"
                              CurXPos ="{Binding MotionManager.XPosForViewer, Mode=TwoWay}"
                              CurYPos="{Binding MotionManager.YPosForViewer, Mode=TwoWay}"
                              x:Name="ucDutViewControl"/>
        <Grid>

            <ToggleButton Width="50" 
                      Height="50" 
                      Background="Orange" 
                      Margin="10,0,0,76"
                      IsChecked="{Binding EnableDragMap, ElementName=ucDutViewControl}"
                      VerticalAlignment="Bottom" HorizontalAlignment="Left"
                      Foreground="Black" Opacity="0.4">

                <ToggleButton.Content>
                    <TextBlock Text="HOLD" Foreground="White" FontSize="13"/>
                </ToggleButton.Content>

                <!--<materialDesign:ToggleButtonAssist.OnContent>
                    <materialDesign:PackIcon Kind="ArrowAll" Foreground="White" Width="40" Height="40"/>
                </materialDesign:ToggleButtonAssist.OnContent>-->
                
            </ToggleButton>

            <RepeatButton Margin="0,0,10,76" Grid.Row="2" Width="48" Height="48" Background="Black" Foreground="White" Visibility="{Binding VisibilityZoomIn}"
                          VerticalAlignment="Bottom" HorizontalAlignment="Right" Opacity="0.4"
                          Command="{Binding CmdZoomInButton, ElementName=ucDutViewControl}" >
                <materialDesign:PackIcon Kind="MagnifyPlus" Height="42" Width="42"/>
            </RepeatButton>

            <RepeatButton Margin="0,0,10,14" Grid.Row="3" Width="48" Height="48" Background="Black" Foreground="White" Visibility="{Binding VisibilityZoomOut}"
                          VerticalAlignment="Bottom" HorizontalAlignment="Right" Opacity="0.4"
                          Command="{Binding CmdZoomOutButton, ElementName=ucDutViewControl}" >
                <materialDesign:PackIcon Kind="MagnifyMinus" Height="42" Width="42" />
            </RepeatButton>

            <Button Margin="10,0,10,14"  Width="50" Height="50" FontSize="40"
                    VerticalAlignment="Bottom" HorizontalAlignment="Left" Visibility="{Binding VisibilityMoveToCenter}"                   
                    Command="{Binding CmdMoveToCenterButton, ElementName=ucDutViewControl}"   Opacity="0.4" >
                <materialDesign:PackIcon Kind="Autorenew" Width="40" Height="40"/>
            </Button>

            <Viewbox x:Name="vb_lockimg" Width="48" Height="48" VerticalAlignment="Top" HorizontalAlignment="Center" 
                     Visibility="{Binding Path = IsEnabled, ElementName=ucwindow, Converter={StaticResource BooleanToVisibilityConverter}}" Margin="96,0,77.29,0">
                <Canvas Width="24" Height="24">
                    <Canvas.Effect>
                        <DropShadowEffect Color="Green" Direction="90" Opacity="1" BlurRadius="2" ShadowDepth ="3"></DropShadowEffect>
                    </Canvas.Effect>
                    <Path Data="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" 
                          Fill="#FEBE38">
                    </Path>
                </Canvas>
            </Viewbox>

        </Grid>

        <i:Interaction.Triggers>
            <i:EventTrigger EventName="MouseLeftButtonDown">
                <i:InvokeCommandAction Command="{Binding DutAddMouseDownCommand}">
                </i:InvokeCommandAction>
            </i:EventTrigger>
        </i:Interaction.Triggers>


    </Grid>
</UserControl>
