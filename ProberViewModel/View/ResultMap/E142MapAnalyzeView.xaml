<UserControl x:Class="ProberViewModel.View.ResultMap.E142MapAnalyzeView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:ProberViewModel.View.ResultMap"
             xmlns:rm="clr-namespace:ResultMapView;assembly=ResultMapView"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <Grid>

        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" BorderBrush="White" BorderThickness="1">
            <rm:ucResultMapViewer
                WaferObject="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type UserControl}},Path=DataContext.StageSupervisor.WaferObject}"
                CursorXIndex="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type UserControl}},Path=DataContext.CursorXIndex}"
                CursorYIndex="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type UserControl}},Path=DataContext.CursorYIndex}"
                >
            </rm:ucResultMapViewer>
        </Border>

        <Grid Grid.Column="1">

            <Grid.RowDefinitions>
                <RowDefinition Height="1*"/>
                <RowDefinition Height="9*"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0" BorderBrush="White" BorderThickness="1">

                <Grid>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>

                    <Grid Grid.Column="0">

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>

                        <Label Content="Dummy BIN" Grid.Column="0" VerticalAlignment="Center"
                               FontSize="14" Margin="0" FontWeight="DemiBold"/>
                        <ToggleButton Grid.Column="1" HorizontalAlignment="Left"
                                      Style="{StaticResource ON_OFF_ToggleBtn}"
                                      IsChecked="{Binding IsDummy}"
                                      MinWidth="50"
                                      MaxWidth="60"
                                      MaxHeight="32">
                        </ToggleButton>
                    </Grid>
                    
                    <Grid Grid.Column="1">
                        <Button Content="GENERATE" Margin="5,5,5,5"
                            FontSize="16"
                            FontWeight="Bold"
                            Foreground="White"
                            MaxHeight="32" Command="{Binding GenerateCommand}">
                        </Button>
                    </Grid>

                    <Grid Grid.Column="2">
                        <Button Content="EXPORT" Margin="5,5,5,5"
                            FontSize="16"
                            FontWeight="Bold"
                            Foreground="White"
                            MaxHeight="32" Command="{Binding ExportMapCommand}">
                        </Button>
                    </Grid>

                    <Grid Grid.Column="3">
                        <Button Content="IMPORT" Margin="5,5,5,5"
                            FontSize="16"
                            FontWeight="Bold"
                            Foreground="White"
                            MaxHeight="32" Command="{Binding ImportMapCommand}">
                        </Button>
                    </Grid>

                </Grid>
            </Border>

            <TreeView Grid.Row="1" Name="treeView" ItemsSource="{Binding ViewerSource}">
                <TreeView.ItemTemplate>
                    <HierarchicalDataTemplate ItemsSource="{Binding Children}">
                        <StackPanel Orientation="Horizontal">
                            <!-- 显示Header属性 -->
                            <TextBlock Text="{Binding Header}"/>
                            <!-- 显示JToken的Type属性 -->
                            <TextBlock Text="{Binding Token.Type}" Margin="10 0 0 0" Foreground="DarkBlue"/>
                        </StackPanel>
                    </HierarchicalDataTemplate>
                </TreeView.ItemTemplate>
            </TreeView>


            <!-- Viewer --><!--
            <Border Grid.Row="1" BorderBrush="White" BorderThickness="1">
                <Grid >
                    <ListView ItemsSource="{Binding STIFResultMap}">

                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Text}">
                            
                                    <TextBlock.Background>
                                        <SolidColorBrush Color="{Binding Background.Color, Mode=TwoWay}"/>
                                    </TextBlock.Background>

                                </TextBlock>
                            </DataTemplate>
                        </ListView.ItemTemplate>

                    </ListView>
                </Grid>
            </Border>-->

        </Grid>
        
    </Grid>
</UserControl>
