<UserControl x:Class="UcTempDeviceSettingView.TempDeviceSettingView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:UcTempDeviceSettingView"
             xmlns:cui="clr-namespace:CUI;assembly=CUI"
             xmlns:conv="clr-namespace:ValueConverters;assembly=ValueConverters"
             xmlns:tempgraph="clr-namespace:TempGraphControl;assembly=TempGraphControl"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             mc:Ignorable="d" 
             d:DesignHeight="800" d:DesignWidth="1280">
    <UserControl.Resources>
        
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/SettingControlStyle;component/SettingViewStyleDictionaly.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <conv:TemperatureOffsetCalcConverter x:Key="OffsetCalcConv"/>
            <conv:TemperatureUnitConverter x:Key="TemperatureUnitConv"/>
            <conv:IntToVisibilityConverter x:Key="IntToVisibilityConv"/>
            <conv:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConv"/>
        </ResourceDictionary>

    </UserControl.Resources>
    <Grid>
        <StackPanel Margin="4">
            <Label  Content="Standard Temperature Setup"
                Foreground="White"
                FontWeight="Bold"
                FontSize="56"
                />
            <Separator Margin="4" Background="White" />
            <StackPanel Visibility="{Binding NotApplySVChangesBasedOnDevice, Converter={StaticResource BooleanToVisibilityConv}}">
                <Border Margin="4,0,0,0" Background="#3C454F">
                    <Label Padding="0" FontWeight="DemiBold" Content="Set" Foreground="WhiteSmoke" FontSize="16" VerticalAlignment="Center" />
                </Border>

                <Label Content="Setting Temperature (℃)"
                   Foreground="White"
                   FontSize="16"
                   />
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox AutomationProperties.AutomationId="txtInputTemp"
                             Grid.Column="0"
                             Foreground="Black"
                             HorizontalContentAlignment="Center"
                             FontSize="24" Margin="4" Width="256"
                             Text="{Binding ValueForSettingTemp, Converter={StaticResource TemperatureUnitConv}}">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="PreviewMouseDown" >
                                <i:InvokeCommandAction Command="{Binding TextBoxClickCommand}"
                                                   CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type TextBox}}}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </TextBox>

                    <cui:Button AutomationProperties.AutomationId="btnSetTemp"
                                Grid.Column="1" Content="Set"
                                GUID="FEF726E0-E3D3-422C-AC37-A292D85A6F7E"
                                Style="{DynamicResource NormalTypeCUIButtonStyle}"
                                FontSize="24"
                                Margin="4"
                                Width="200"
                                Command="{Binding SettingSVCommand}"/>
                    <!--<cui:Button Grid.Column="3" Content="Reload Coeff. Table"
                                GUID="818d0495-9fe1-46df-8b30-0043ec0d3f67"
                                Style="{DynamicResource NormalTypeCUIButtonStyle}"
                                FontSize="24"
                                Margin="4"
                                Width="240"
                                Command="{Binding LoadParamCommand}"/>-->
                </Grid>
                <!--<Grid Margin="0,0,120,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <tempgraph:TempGraph MinHeight="500" Margin="4,4,4,4">
                        
                    </tempgraph:TempGraph>
                </Grid>-->

            </StackPanel>

            <StackPanel>
               

                <Label Content="Device Temperature (℃)"
                   Foreground="White"
                   FontSize="16"
                   />
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox AutomationProperties.AutomationId="txtInputTemp"
                             Grid.Column="0"
                             Foreground="Black"
                             HorizontalContentAlignment="Center"
                             FontSize="24" Margin="4" Width="256"
                             Text="{Binding ValueForDeviceTemp, Converter={StaticResource TemperatureUnitConv}, Mode=TwoWay}">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="PreviewMouseDown" >
                                <i:InvokeCommandAction Command="{Binding TextBoxClickCommand}"
                                                   CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type TextBox}}}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </TextBox>

                    <cui:Button AutomationProperties.AutomationId="btnSetTemp"
                                Grid.Column="1" Content="Set"
                                GUID="d669e39e-b8cd-4e51-9959-1e747df7ded5"
                                Style="{DynamicResource NormalTypeCUIButtonStyle}"
                                FontSize="24"
                                Margin="4"
                                Width="200"
                                Command="{Binding SettingDeviceSetTempCommand}"/>
                </Grid>

            </StackPanel>
            <!--<TempGraphControl:TempGraph />-->
        </StackPanel>
    </Grid>
</UserControl>
