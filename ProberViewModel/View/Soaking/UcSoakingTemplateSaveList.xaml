<UserControl x:Class="SoakingSettingView.UcSoakingTemplateSaveList"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:SoakingSettingView"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800" Background="Transparent" x:Name="SoakingTemplateSaveList">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary>
                    <local:ValueRatioConverter x:Key="ValueRatioConverter"/>
                    <Style TargetType="Label" x:Key="PageDisplay">                        
                        <Setter Property ="Foreground" Value="WhiteSmoke"/>
                        <Setter Property ="Padding" Value="0"/>
                        <Setter Property ="Margin" Value="0" />
                        <Setter Property ="FontSize" Value="12" />
                        <Setter Property ="FontWeight" Value="Bold"/>
                    </Style>
                </ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>

    </UserControl.Resources>
    <Grid >
        <Grid.RowDefinitions>
            <RowDefinition Height="10"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="0"/>
        </Grid.RowDefinitions>
        <Grid x:Name="MainList" Grid.Row="1"  >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="8" x:Name="ListControlButtonPadding"/>
                <ColumnDefinition Width="0"/>
            </Grid.ColumnDefinitions>
            <Border Background="Black" BorderThickness="1" BorderBrush="Black">
               
                
            <ListView Grid.Column="0" x:Name="LV7G4XE" 
                      ItemsSource="{Binding ItemsSource, ElementName=SoakingTemplateSaveList, UpdateSourceTrigger=PropertyChanged}"
                      SelectedItem="{Binding SelectedItem, ElementName=SoakingTemplateSaveList , Mode=TwoWay}"
                      Background="Black"
                      SelectionMode ="Single"
                      
                      ScrollViewer.HorizontalScrollBarVisibility="Hidden"
                      >
                   
                        <ListView.Resources>
                            <sys:Double x:Key="{x:Static SystemParameters.VerticalScrollBarWidthKey}">40</sys:Double>
                            <sys:Double x:Key="{x:Static SystemParameters.VerticalScrollBarButtonHeightKey}">40</sys:Double>
                        </ListView.Resources>
                        <ListView.ItemContainerStyle>
                            <Style TargetType="ListViewItem">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="DimGray" />
                                    </Trigger>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter Property="Background" Value="DarkRed" />
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ListView.ItemContainerStyle>
                <ListView.View>
                    <GridView >
                        <GridViewColumn Header="Title"  
                                        Width="{Binding   RelativeSource={RelativeSource Mode=FindAncestor , AncestorType=ListView, AncestorLevel=1}, Path=ActualWidth, Converter={StaticResource ValueRatioConverter},ConverterParameter='60%'}">
                            <GridViewColumn.HeaderContainerStyle>
                                <Style TargetType="{x:Type GridViewColumnHeader}">
                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                    <Setter Property="Height" Value="30"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Style>
                            </GridViewColumn.HeaderContainerStyle>
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                        <StackPanel  Orientation="Horizontal">
                                                <Label Content="Current-"  Foreground="White" >
                                                <Label.Style>
                                                    <Style TargetType="{x:Type Label}">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding Current,UpdateSourceTrigger=PropertyChanged}" Value="true">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Label.Style>
                                            </Label>
                                            <TextBlock Text="{Binding Path=Name, UpdateSourceTrigger=PropertyChanged}"                                            
                                                        FontSize="13" 
                                                        Foreground="White" 
                                                        Height="30" 
                                                        VerticalAlignment="Center"
                                                        Margin="0"/>
                                                <Label Content="*"  Foreground="White" > 
                                                <Label.Style>
                                                    <Style TargetType="{x:Type Label}">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding Modified,UpdateSourceTrigger=PropertyChanged}" Value="true">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Label.Style>
                                            </Label>
                                        </StackPanel>
                                    </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn Header="Modified" 
                                        Width="{Binding  RelativeSource={RelativeSource Mode=FindAncestor , AncestorType=ListView, AncestorLevel=1}, Path=ActualWidth, Converter={StaticResource ValueRatioConverter},ConverterParameter='40%'}">
                            <GridViewColumn.HeaderContainerStyle>
                                <Style TargetType="{x:Type GridViewColumnHeader}">
                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                    <Setter Property="Height" Value="30"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Style>
                            </GridViewColumn.HeaderContainerStyle>
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Path=Time, StringFormat='{}{0:h:mm:ss tt dd/MM}' }"        
                                                        FontSize="13" 
                                                        Foreground="White" 
                                                        Height="30" 
                                                        VerticalAlignment="Center"
                                                        Margin="0"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                    </GridView>
                </ListView.View>
            </ListView>
               
            </Border>
            <Grid x:Name="ListPageControlContents" Grid.Column="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="3*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="3*"/>
                </Grid.RowDefinitions>
                <Button x:Name="PageMovePrev" Grid.Row="0" FontSize="20"  >△</Button>
                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Label x:Name="CurrentPageDisplay"  Style="{StaticResource PageDisplay}" Content="1"/>
                    <Label   Style="{StaticResource PageDisplay}" Content="/"                       />
                    <Label x:Name="TotalPageDisplay"  Style="{StaticResource PageDisplay}" Content="4" />
                </StackPanel>
                <Button x:Name="PageMoveNext" Grid.Row="2" FontSize="20"  >▽</Button>
            </Grid>
            
        </Grid>
        <!--<Grid x:Name="Bottom" Grid.Row="2">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,3,0,3">
                <Button x:Name="btnCopy" Width="60" Command="{Binding ItemCopy, ElementName=SoakingTemplateSaveList}"
                        CommandParameter="{Binding}" 
                        Margin="5"                        
                        >Copy</Button>
                <Button x:Name="btnApply" Width="60"  Command="{Binding ItemApply, ElementName=SoakingTemplateSaveList}"
                        CommandParameter="{Binding}"
                        Margin="5"
                        >Apply</Button>
                <Button x:Name="btnDelete" Width="60" Command="{Binding ItemRemove, ElementName=SoakingTemplateSaveList}"
                        CommandParameter="{Binding}"
                        Margin="5,5,0,5"
                        >Delete</Button>
            </StackPanel>
        </Grid>-->
    </Grid>
</UserControl>
