<UserControl x:Class="StatusSoakingRecipeSettingView.StatusSoakingSettingView"
             xmlns:local="clr-namespace:SoakingSettingView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d" 
             d:DesignHeight="960" d:DesignWidth="1280">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/SettingControlStyle;component/SettingViewStyleDictionaly.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="70"/>
            <RowDefinition Height="1*"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <Border Background="#1f1f1f" Grid.Row="0" Margin="5, 10, 5, 10">
            <Label Content="Status Soaking Recipe Setting" FontSize="25" FontWeight="Bold" Margin="0" VerticalAlignment="Center"/>
        </Border>
        <!--  Advanced Setting-->
        <Button x:Name="advanced_bnt"
                Background="Transparent"
                Grid.Row="1"
                Width="38" Height="38" 
                VerticalAlignment="Top" 
                HorizontalAlignment="Right"
                Margin="0, -5, 0, 0"
                Command="{Binding CmdShowAdvancedSettingView}"
                >
            <materialDesign:PackIcon    Grid.Row="1"
                                    Kind="Settings" 
                                    Width="35" Height="35" 
                                    VerticalAlignment="Top" HorizontalAlignment="Right"
                                    Foreground="DarkOrange" />
        </Button>
        
        <!--  Status Soaking Setting  -->
        <TabControl Grid.Row="1" Margin="0,-7,0,0">
            <TabControl.Resources>
                <Style TargetType="{x:Type TabItem}">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type TabItem}">
                                <Grid x:Name="grid">
                                    <Border 
                                        x:Name="Border"
                                        Background="DimGray"
                                        BorderBrush="Black" 
                                        BorderThickness="1,1,1,1" Margin="4,10,4,1"
                                        CornerRadius="6,6,0,0" >
                                        <TextBlock x:Name="ContentSite"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Center"
                                        Text="{TemplateBinding Header}"
                                        Margin="12,2,12,2"
                                        />
                                    </Border>
                                </Grid>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="ContentSite" Property="FontWeight" Value="Bold" />
                                        <Setter TargetName="Border" Property="Background" Value="SlateGray" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                            
                        </Setter.Value>
                    </Setter>
                </Style>
            </TabControl.Resources>

            <!-- Maintain -->
            <TabItem Header="Maintain" Foreground="White" FontSize="18">
                <Grid Background="#1f1f1f">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="{Binding PolishWaferUIHeight}"/>
                        <RowDefinition Height="1*"/>
                        <RowDefinition Height="110"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0">
                        <local:UcSoakingPolishWafer DataContext="{Binding MaintainSoakingPolishWafer}"/>
                    </Grid>

                    <Grid Grid.Row="1">
                        <local:UcSoakingStep DataContext="{Binding MaintainSoakingStep}"/>
                    </Grid>

                    <Grid Grid.Row="2">
                        <local:UcSoakingOD DataContext="{Binding MaintainSoakingOD }"/>
                    </Grid>
                </Grid>
            </TabItem>

            <!-- Pre Heating -->
            <TabItem Header="Pre Heating" Foreground="White" FontSize="18" Background="#1f1f1f">
                <Grid Background="#1f1f1f">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="160"/>
                        <RowDefinition Height="{Binding PolishWaferUIHeight}"/>
                        <RowDefinition Height="1*"/>
                        <RowDefinition Height="110"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0">
                        <Grid Margin="0, 0, 0, -10">
                            <Border Margin="20, 30, 20. 20" BorderThickness="1.5" BorderBrush="DarkGray" CornerRadius="5">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="70"/>
                                        <RowDefinition Height="45"/>
                                    </Grid.RowDefinitions>
                                    
                                    <StackPanel Grid.Row="0" Orientation="Horizontal">
                                        <Label FontSize="13"
                                           Content="Default Pre Heating Time : "
                                           VerticalAlignment="Bottom"
                                           HorizontalAlignment="Left"
                                           Margin="0, 0, 0, 10" />
                                        <TextBox Text="{Binding PrepareSoakingTime}"
                                             FontSize="13"
                                             Name="PrepareSoakingTime_tb"
                                             Background="Transparent"
                                             Foreground="White"
                                             BorderBrush="White"
                                             BorderThickness="0, 0, 0, 1"
                                             ToolTip="{Binding TooltipSoakingTime, Mode=TwoWay}" ToolTipService.IsEnabled="True"
                                             VerticalAlignment="Bottom"
                                             HorizontalAlignment="Left"
                                             Height="30"
                                             Width="150"
                                             Margin="0, 0, 0, 10">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="PreviewMouseDown" >
                                                    <i:InvokeCommandAction Command="{Binding TextBoxClickCommand}"
                                                                       CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type TextBox}}}"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </TextBox>
                                        <Label Grid.Column="2"
                                           FontSize="13"
                                           Content="sec"
                                           VerticalAlignment="Bottom"
                                           HorizontalAlignment="Left"
                                           Margin="0, 0, 0, 10" />
                                    </StackPanel>

                                    <StackPanel Grid.Row="1" Orientation="Horizontal">
                                        <Label FontSize="13"
                                           Content="Temp Diff Pre Heating Time : "
                                           VerticalAlignment="Bottom"
                                           HorizontalAlignment="Left"
                                           Margin="0, 0, 0, 10" />
                                        <TextBox Text="{Binding PrepareTempDiffSoakingTime}"
                                             FontSize="13"
                                             Name="PrepareTempDiffSoakingTime_tb"
                                             Background="Transparent"
                                             Foreground="White"
                                             BorderBrush="White"
                                             BorderThickness="0, 0, 0, 1"
                                             ToolTip="{Binding TooltipSoakingTime, Mode=TwoWay}" ToolTipService.IsEnabled="True"
                                             VerticalAlignment="Bottom"
                                             HorizontalAlignment="Left"
                                             Height="30"
                                             Width="150"
                                             Margin="0, 0, 0, 10">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="PreviewMouseDown" >
                                                    <i:InvokeCommandAction Command="{Binding TextBoxClickCommand}"
                                                                       CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type TextBox}}}"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </TextBox>
                                        <Label Grid.Column="2"
                                           FontSize="13"
                                           Content="sec"
                                           VerticalAlignment="Bottom"
                                           HorizontalAlignment="Left"
                                           Margin="0, 0, 0, 10" />

                                        <Label FontSize="13"
                                           Content=""
                                           VerticalAlignment="Bottom"
                                           HorizontalAlignment="Left"
                                           Margin="0, 0, 0, 10" />
                                        <Label FontSize="13"
                                           Content="( Temperature DIfference Triggr Degree : "
                                           VerticalAlignment="Bottom"
                                           HorizontalAlignment="Left"
                                           Margin="0, 0, 0, 10" />
                                        <TextBox Text="{Binding PrepareTriggerDegreeForTempDiff}"
                                             FontSize="13"
                                             Name="PrepareTempDiffTriggerDegree_tb"
                                             Background="Transparent"
                                             Foreground="White"
                                             BorderBrush="White"
                                             BorderThickness="0, 0, 0, 1"
                                             ToolTip="{Binding TooltipSoakingTriggerDegree, Mode=TwoWay}" ToolTipService.IsEnabled="True"
                                             VerticalAlignment="Bottom"
                                             HorizontalAlignment="Left"
                                             Height="30"
                                             Width="100"
                                             Margin="0, 0, -5, 10">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="PreviewMouseDown" >
                                                    <i:InvokeCommandAction Command="{Binding TextBoxClickCommand}"
                                                                       CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type TextBox}}}"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </TextBox>
                                        <Label Grid.Column="2"
                                           FontSize="13"
                                           Content="ºC )"
                                           VerticalAlignment="Bottom"
                                           HorizontalAlignment="Left"
                                           Margin="0, 0, 0, 10" />
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </Grid>
                        <Border Background="#38393e"
                                VerticalAlignment="Top"
                                HorizontalAlignment="Left"
                                Margin="30, 13, 10, 10"
                                CornerRadius="10"
                                Height="32"
                                >
                            <Label Content="Pre Heating Soaking Time (sec)" 
                                   FontSize="13"
                                   VerticalAlignment="Center" Margin="0"/>
                        </Border>
                    </Grid>

                    <Grid Grid.Row="1">
                        <local:UcSoakingPolishWafer DataContext="{Binding PrepareSoakingPolishWafer}" />

                        <CheckBox VerticalAlignment="Center"
                                    Foreground="white"
                                    Margin="510, 35, 0, 0"
                                    FontSize="11"
                                    IsChecked="{Binding PrepareSoak_afterDeviceChange}">
                            <CheckBox.LayoutTransform>
                                <ScaleTransform ScaleX="1.2" ScaleY="1.2" />
                            </CheckBox.LayoutTransform>
                            <TextBlock Text="Soak after Device Change" Margin="2 0 0 0"/>
                        </CheckBox>
                    </Grid>
                    
                    <Grid Grid.Row="2">
                        <local:UcSoakingStep DataContext="{Binding PrepareSoakingStep}"/>
                    </Grid>

                    <Grid Grid.Row="3">
                        <local:UcSoakingOD DataContext="{Binding PrepareSoakingOD }"/>
                    </Grid>
                </Grid>
            </TabItem>
            
            <!-- Recovery -->
            <TabItem Header="Recovery" Foreground="White" FontSize="18">
                <Grid Background="#1f1f1f">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="1*"/>
                        <RowDefinition Height="{Binding PolishWaferUIHeight}"/>
                        <RowDefinition Height="1*"/>
                        <RowDefinition Height="110"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0">
                        <local:UcSoakingChillingTimeTable DataContext="{Binding RecoverySoakingChillingTimeTable}"/>
                    </Grid>

                    <Grid Grid.Row="1">
                        <local:UcSoakingPolishWafer DataContext="{Binding RecoverySoakingPolishWafer}"/>
                    </Grid>

                    <Grid Grid.Row="2">
                        <local:UcSoakingStep DataContext="{Binding RecoverySoakingStep}"/>
                    </Grid>
                    
                    <Grid Grid.Row="3">
                        <local:UcSoakingOD DataContext="{Binding RecoverySoakingOD}"/>
                    </Grid>
                </Grid>
            </TabItem>
            
            <!-- Event -->
            <TabItem Header="Event" Foreground="White" FontSize="18">
                <Grid Background="#1f1f1f">
                    <TabControl TabStripPlacement="Left" >
                        <TabControl.Resources>
                            <Style TargetType="TabItem">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="TabItem">
                                            <Border Name="Border" BorderThickness="1,1,1,0" CornerRadius="8" Margin="7, 12, 7, 7">
                                                <ContentPresenter x:Name="ContentSite"
                                                                  VerticalAlignment="Center"
                                                                  HorizontalAlignment="Center"
                                                                  ContentSource="Header"
                                                                  Margin="20, 5"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsSelected" Value="True">
                                                    <Setter TargetName="Border" Property="Background" Value="#708090" />
                                                </Trigger>
                                                <Trigger Property="IsSelected" Value="False">
                                                    <Setter TargetName="Border" Property="Background" Value="#696969" />
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </TabControl.Resources>
                        
                        <!-- Every Wafer Soak -->
                        <TabItem Header="Every Wafer" FontSize="16" FontWeight="Bold">
                            <local:UcSoakingEventSoak DataContext="{Binding EveryWaferSoak}"/>
                        </TabItem>

                        <!-- Before Z Up Soak -->
                        <TabItem Header="Before Z Up" FontSize="16" FontWeight="Bold">
                            <local:UcSoakingEventSoak DataContext="{Binding BeforeZUpSoak}"/>
                        </TabItem>
                    </TabControl>
                    
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</UserControl>
