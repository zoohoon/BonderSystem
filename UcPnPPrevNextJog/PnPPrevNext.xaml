<UserControl x:Class="UcPnPPrevNextJog.PnPPrevNext"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:UcPnPPrevNextJog"
	         xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:ValueConvert="clr-namespace:ValueConverters;assembly=ValueConverters"   
             AutomationProperties.AutomationId="UCPnPPrevNextJog"
             mc:Ignorable="d" d:DesignHeight="300" d:DesignWidth="300" >
    <UserControl.Resources>
        <Style x:Key="JogBtnStyle" TargetType="{x:Type local:JogBtn}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type local:JogBtn}">
                        <Grid>
                            <Viewbox x:Name="vb_lockimg" Width="20" Height="20" VerticalAlignment="Bottom" HorizontalAlignment="Center" >
                                <Canvas Width="24" Height="24">
                                    <Canvas.Effect>
                                        <DropShadowEffect Color="Green" Direction="90" Opacity="1" BlurRadius="2" ShadowDepth ="3"></DropShadowEffect>
                                    </Canvas.Effect>
                                    <Path Data="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" 
                                             Fill="#FEBE38">
                                    </Path>
                                </Canvas>

                            </Viewbox>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Visibility" TargetName="vb_lockimg" Value="Visible"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="True">
                                <Setter Property="Visibility" TargetName="vb_lockimg" Value="Hidden"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <ValueConvert:EnableLockMultiConverter x:Key="LockConverter"/>
    </UserControl.Resources>
    <Grid>
        <Grid.BitmapEffect>
            <DropShadowBitmapEffect ShadowDepth="3" Color="LightGray"  Softness="0"/>
        </Grid.BitmapEffect>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2.2*"/>
                <ColumnDefinition/>
                <ColumnDefinition Width="2.2*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="2.2*"/>
                <RowDefinition/>
                <RowDefinition Height="2.2*"/>
            </Grid.RowDefinitions>

            <Grid Grid.Column="0" Grid.Row="0">
                <!--<Canvas HorizontalAlignment="Left" VerticalAlignment="Top" Width="120" Height="120" 
                Opacity="{Binding PadJogLeftUp.Opacity}" 
                IsEnabled="{Binding PadJogLeftUp.IsEnabled}" Visibility="{Binding PadJogLeftUp.Visibility}">-->
               
                <local:JogBtn AutomationProperties.AutomationId="JogLeftUpbtn"
                    x:Name="PadJogLeftUpBtn" MouseDown="JogBtn_MouseDown" MouseUp="JogBtn_MouseUp" 
                          RepeatEnable="{Binding PadJogLeftUp.RepeatEnable}" Opacity="{Binding PadJogLeftUp.Opacity}" 
                          IsEnabled="{Binding PadJogLeftUp.IsEnabled}" Visibility="{Binding PadJogLeftUp.Visibility}"
                          Lockable="{Binding PadJogLeftUp.Lockable}"
                              GUID = "F4910448-97F9-EB9C-5701-6BEFE25AF372"
                              >
                    
                </local:JogBtn>
               
                <TextBlock Text="{Binding PadJogLeftUp.Caption}" FontSize="{Binding PadJogLeftUp.CaptionSize}" 
                           FontWeight="Bold" VerticalAlignment="Top" TextAlignment="Center" Foreground="White" Width="120" Canvas.Top="60"
                           IsHitTestVisible="False" Margin="0,0,0,3" Grid.Row="1" Padding="0,20,0,0" />
                <Grid Width="120" Height="120">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Image Grid.Row="0" Source="{Binding PadJogLeftUp.IconSource}" MaxWidth="100" MaxHeight="45" MinHeight="45" IsHitTestVisible="False" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                        <Image.BitmapEffect>
                            <DropShadowBitmapEffect ShadowDepth="0" Color="Green" Softness="{Binding PadJogLeftUp.Softness}"/>
                        </Image.BitmapEffect>
                    </Image>
                    <TextBlock Grid.Row="1" Text="{Binding PadJogLeftUp.IconCaption}" FontSize="{Binding PadJogLeftUp.CaptionSize}" 
                               FontWeight="Bold" TextAlignment="Center" Foreground="LightGray" VerticalAlignment="Top" HorizontalAlignment="Center" IsHitTestVisible="False"/>
                </Grid>
                <Grid>
                    <Grid.Visibility>
                        <MultiBinding Converter="{StaticResource LockConverter}">
                            <Binding Path="IsEnabled" ElementName="PadJogLeftUpBtn"/>
                            <Binding Path="PadJogLeftUp.Lockable"/>
                            <Binding Path="PadJogLeftUp.Command"/>
                        </MultiBinding>
                    </Grid.Visibility>
                    <Viewbox  Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center">
                        <Canvas Width="24" Height="24" Background="Transparent">
                            <Canvas.Effect>
                                <DropShadowEffect Color="Green" Direction="90" Opacity="1" BlurRadius="2" ShadowDepth ="3"></DropShadowEffect>
                            </Canvas.Effect>
                            <Path Data="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" 
                                             Fill="#FEBE38">
                            </Path>
                        </Canvas>
                    </Viewbox>
                </Grid>
            </Grid>

            <Grid Grid.Column="2" Grid.Row="0">
                <!--<Canvas  HorizontalAlignment="Right" VerticalAlignment="Top" Width="120" Height="120" 
                Opacity="{Binding PadJogRightUp.Opacity}" 
                IsEnabled="{Binding PadJogRightUp.IsEnabled}" Visibility="{Binding PadJogRightUp.Visibility}">-->
                <local:JogBtn AutomationProperties.AutomationId="JogRightUpbtn"
                              x:Name="PadJogRightUpBtn" MouseDown="JogBtn_MouseDown" MouseUp="JogBtn_MouseUp" 
                          RenderTransformOrigin="0.5, 0.5" RepeatEnable="{Binding PadJogRightUp.RepeatEnable}" 
                                  Lockable="{Binding PadJogRightUp.Lockable}" Opacity="{Binding PadJogRightUp.Opacity}" 
                                    IsEnabled="{Binding PadJogRightUp.IsEnabled}" Visibility="{Binding PadJogRightUp.Visibility}"
                              GUID = "F4910448-97F9-EB9C-5701-6BEFE25AF372"
                              >
                    <local:JogBtn.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform ScaleX="-1"/>
                            <SkewTransform/>
                            <RotateTransform/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </local:JogBtn.RenderTransform>
                </local:JogBtn>
                <TextBlock Text="{Binding PadJogRightUp.Caption}" FontSize="{Binding PadJogRightUp.CaptionSize}" 
                           FontWeight="Bold" VerticalAlignment="Top" TextAlignment="Center" Foreground="White" Width="120" Canvas.Top="60"
                           IsHitTestVisible="False" Margin="0,0,0,3" Grid.Row="1" Padding="0,20,0,0"/>
                <Grid Width="120" Height="120">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Image Source="{Binding PadJogRightUp.IconSource}" MaxWidth="100" MaxHeight="45" MinHeight="45" IsHitTestVisible="False" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                        <Image.BitmapEffect>
                            <DropShadowBitmapEffect ShadowDepth="0" Color="Green" Softness="{Binding PadJogRightUp.Softness}"/>
                        </Image.BitmapEffect>
                    </Image>
                    <TextBlock Grid.Row="1" Text="{Binding PadJogRightUp.IconCaption}" FontSize="{Binding PadJogRightUp.CaptionSize}" FontWeight="Bold" TextAlignment="Center" Foreground="LightGray" VerticalAlignment="Top" IsHitTestVisible="False"/>
                </Grid >

                <Grid>
                    <Grid.Visibility>
                        <MultiBinding Converter="{StaticResource LockConverter}">
                            <Binding Path="IsEnabled" ElementName="PadJogRightUpBtn" />
                            <Binding Path="PadJogRightUp.Lockable"/>
                            <Binding Path="PadJogRightUp.Command"/>
                        </MultiBinding>
                    </Grid.Visibility>
                    <Viewbox Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center">
                        <Canvas Width="24" Height="24" Background="Transparent">
                            <Canvas.Effect>
                                <DropShadowEffect Color="Green" Direction="90" Opacity="1" BlurRadius="2" ShadowDepth ="3"></DropShadowEffect>
                            </Canvas.Effect>
                            <Path Data="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" 
                                             Fill="#FEBE38">
                            </Path>
                        </Canvas>
                    </Viewbox>
                </Grid>
                <!--</Canvas>-->
            </Grid>

            <Grid Grid.Column="0" Grid.Row="2">
                <!--<Canvas HorizontalAlignment="Left" VerticalAlignment="Bottom" Width="120" Height="120" 
                Opacity="{Binding PadJogLeftDown.Opacity}" 
                IsEnabled="{Binding PadJogLeftDown.IsEnabled}" Visibility="{Binding PadJogLeftDown.Visibility}">-->
                <local:JogBtn AutomationProperties.AutomationId="JogLeftDownbtn"
                              x:Name="PadJogLeftDownBtn" MouseDown="JogBtn_MouseDown" MouseUp="JogBtn_MouseUp" 
                          RenderTransformOrigin="0.5,0.5" RepeatEnable="{Binding PadJogLeftDown.RepeatEnable}" 
                                  Lockable="{Binding PadJogLeftDown.Lockable}" Opacity="{Binding PadJogLeftDown.Opacity}" 
                                  IsEnabled="{Binding PadJogLeftDown.IsEnabled}" Visibility="{Binding PadJogLeftDown.Visibility}" 
                              GUID = "F4910448-97F9-EB9C-5701-6BEFE25AF372"
                              >
                    <local:JogBtn.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform ScaleX="-1"/>
                            <SkewTransform/>
                            <RotateTransform Angle="-180"/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </local:JogBtn.RenderTransform>
                </local:JogBtn>
                <TextBlock Text="{Binding PadJogLeftDown.Caption}" FontSize="{Binding PadJogLeftDown.CaptionSize}"
                           Padding="0,0,0,20"
                           FontWeight="Bold" TextAlignment="Center" Foreground="White" Width="120" Canvas.Top="60"
                           HorizontalAlignment="Center" VerticalAlignment="Bottom" IsHitTestVisible="False"/>
                <Grid Width="120" Height="120">
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Image Grid.Row="0" Source="{Binding PadJogLeftDown.IconSource}" MaxWidth="100" MaxHeight="45" MinHeight="45" IsHitTestVisible="False" VerticalAlignment="Bottom" HorizontalAlignment="Stretch">
                        <Image.BitmapEffect>
                            <DropShadowBitmapEffect ShadowDepth="0" Color="Green" Softness="{Binding PadJogLeftDown.Softness}"/>
                        </Image.BitmapEffect>
                    </Image>
                    <TextBlock Grid.Row="1" Text="{Binding PadJogLeftDown.IconCaption}" FontSize="{Binding PadJogLeftDown.CaptionSize}" FontWeight="Bold" TextAlignment="Center" Foreground="LightGray" VerticalAlignment="Top" IsHitTestVisible="False"/>
                </Grid>
                <Grid>
                    <Grid.Visibility>
                        <MultiBinding Converter="{StaticResource LockConverter}">
                            <Binding Path="IsEnabled" ElementName="PadJogLeftDownBtn"/>
                            <Binding Path="PadJogLeftDown.Lockable"/>
                            <Binding Path="PadJogLeftDown.Command"/>
                        </MultiBinding>
                    </Grid.Visibility>
                    <Viewbox Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center">
                        <Canvas Width="24" Height="24" Background="Transparent">
                            <Canvas.Effect>
                                <DropShadowEffect Color="Green" Direction="90" Opacity="1" BlurRadius="2" ShadowDepth ="3"></DropShadowEffect>
                            </Canvas.Effect>
                            <Path Data="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" 
                                             Fill="#FEBE38">
                            </Path>
                        </Canvas>
                    </Viewbox>
                </Grid>
                <!--</Canvas>-->
            </Grid>

            <Grid Grid.Column="2" Grid.Row="2">

                <!--<Canvas HorizontalAlignment="Right" VerticalAlignment="Bottom" Width="120" Height="120" 
                Opacity="{Binding PadJogRightDown.Opacity}" 
                IsEnabled="{Binding PadJogRightDown.IsEnabled}" Visibility="{Binding PadJogRightDown.Visibility}">-->
                <local:JogBtn AutomationProperties.AutomationId="JogRightDownbtn"
                              x:Name="PadJogRightDownBtn" MouseDown="JogBtn_MouseDown" MouseUp="JogBtn_MouseUp" 
                          RenderTransformOrigin="0.5,0.5" RepeatEnable="{Binding PadJogRightDown.RepeatEnable}"
                                  Opacity="{Binding PadJogRightDown.Opacity}"  IsEnabled="{Binding PadJogRightDown.IsEnabled}" 
                                  Visibility="{Binding PadJogRightDown.Visibility}" Lockable="{Binding PadJogRightDown.Lockable}"
                              GUID = "F4910448-97F9-EB9C-5701-6BEFE25AF372"
                              >
                    <local:JogBtn.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform/>
                            <SkewTransform/>
                            <RotateTransform Angle="-180"/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </local:JogBtn.RenderTransform>


                </local:JogBtn>
                <TextBlock Text="{Binding PadJogRightDown.Caption}" FontSize="{Binding PadJogRightDown.CaptionSize}" 
                           FontWeight="Bold" VerticalAlignment="Bottom" TextAlignment="Center" Foreground="White" Width="120" Canvas.Top="60"
                           IsHitTestVisible="False" Margin="0,0,0,3" Grid.Row="1" Padding="0,0,0,20"/>
                <Grid Width="120" Height="120">
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Image Grid.Row="0" Source="{Binding PadJogRightDown.IconSource}" MaxWidth="100" MaxHeight="45" MinHeight="45" IsHitTestVisible="False" VerticalAlignment="Bottom" HorizontalAlignment="Stretch" Margin="0,1,0,-1">
                        <Image.BitmapEffect>
                            <DropShadowBitmapEffect ShadowDepth="0" Color="Green" Softness="{Binding PadJogRightDown.Softness}"/>
                        </Image.BitmapEffect>
                    </Image>
                    <TextBlock Grid.Row="1" Text="{Binding PadJogRightDown.IconCaption}" FontSize="{Binding PadJogRightDown.CaptionSize}" FontWeight="Bold" TextAlignment="Center" Foreground="LightGray" VerticalAlignment="Top" IsHitTestVisible="False"/>
                </Grid>

                <Grid>
                    <Grid.Visibility>
                        <MultiBinding Converter="{StaticResource LockConverter}">
                            <Binding Path="IsEnabled" ElementName="PadJogRightDownBtn"/>
                            <Binding Path="PadJogRightDown.Lockable"/>
                            <Binding Path="PadJogRightDown.Command"/>
                        </MultiBinding>
                    </Grid.Visibility>
                    <Viewbox Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center">
                        <Canvas Width="24" Height="24" Background="Transparent">
                            <Canvas.Effect>
                                <DropShadowEffect Color="Green" Direction="90" Opacity="1" BlurRadius="2" ShadowDepth ="3"></DropShadowEffect>
                            </Canvas.Effect>
                            <Path Data="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" 
                                             Fill="#FEBE38">
                            </Path>
                        </Canvas>
                    </Viewbox>
                </Grid>

            </Grid>
        </Grid>

        <Button AutomationProperties.AutomationId="btnPadJogLeftUp"
                x:Name="PadJogLeftUpControl" Command="{Binding PadJogLeftUp.Command}" CommandParameter="{Binding PadJogLeftUp.CommandParameter}" Visibility="Collapsed"/>
        <Button AutomationProperties.AutomationId="btnPadJogRightUp"
                x:Name="PadJogRightUpControl" Command="{Binding PadJogRightUp.Command}" CommandParameter="{Binding PadJogRightUp.CommandParameter}" Visibility="Collapsed"/>
        <Button AutomationProperties.AutomationId="btnPadJogLeftDown"
                x:Name="PadJogLeftDownControl" Command="{Binding PadJogLeftDown.Command}" CommandParameter="{Binding PadJogLeftDown.CommandParameter}" Visibility="Collapsed"/>
        <Button AutomationProperties.AutomationId="btnPadJogRightDown"
                x:Name="PadJogRightDownControl" Command="{Binding PadJogRightDown.Command}" CommandParameter="{Binding PadJogRightDown.CommandParameter}" Visibility="Collapsed"/>
    </Grid>
</UserControl>
